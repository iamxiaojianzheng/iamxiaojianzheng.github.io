import*as utils from"../../../tools/js/util/index.js";const beautifierUrl="/tools/js/format/beautifier.min.js",jsYamlUrl="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js";async function json(e){return await utils.loadCdn(window.beautifier,beautifierUrl),beautifier.js(e,getOpts())}async function js(e){return await utils.loadCdn(window.beautifier,beautifierUrl),beautifier.js(e,getOpts())}async function xml(e){return await utils.loadCdn(window.beautifier,beautifierUrl),beautifier.html(e,getOpts())}async function css(e){return await utils.loadCdn(window.beautifier,beautifierUrl),beautifier.css(e,getOpts())}async function sql(e){return await utils.loadCdn(window.sqlFormatter,"/tools/js/java-format.js"),sqlFormatter.format(e,"  ")}async function java(e){return await utils.loadCdn(window.beautifier,beautifierUrl),beautifier.js(e,getOpts())}async function html(e){return await utils.loadCdn(window.beautifier,beautifierUrl),beautifier.html(e,getOpts())}async function yaml(e){return await utils.loadCdn(window.jsyaml,jsYamlUrl),jsyaml.dump(jsyaml.load(e,{schema:jsyaml.DEFAULT_SAFE_SCHEMA,json:!1}),{indent:2,noArrayIndent:!1,skipInvalid:!1,flowLevel:100,schema:jsyaml.DEFAULT_SAFE_SCHEMA,sortKeys:!1,lineWidth:80,noRefs:!1,noCompatMode:!1,condenseFlow:!1})}function getOpts(){var e={};return e.indent_size=$("#tabsize").val(),e.indent_char=1===parseInt(e.indent_size,10)?"\t":" ",e.max_preserve_newlines=$("#max-preserve-newlines").val(),e.preserve_newlines="-1"!==e.max_preserve_newlines,e.keep_array_indentation=$("#keep-array-indentation").prop("checked"),e.break_chained_methods=$("#break-chained-methods").prop("checked"),e.indent_scripts=$("#indent-scripts").val(),e.brace_style=$("#brace-style").val()+($("#brace-preserve-inline").prop("checked")?",preserve-inline":""),e.space_before_conditional=$("#space-before-conditional").prop("checked"),e.unescape_strings=$("#unescape-strings").prop("checked"),e.jslint_happy=$("#jslint-happy").prop("checked"),e.end_with_newline=$("#end-with-newline").prop("checked"),e.wrap_line_length=$("#wrap-line-length").val(),e.indent_inner_html=$("#indent-inner-html").prop("checked"),e.comma_first=$("#comma-first").prop("checked"),e.e4x=$("#e4x").prop("checked"),e.indent_empty_lines=$("#indent-empty-lines").prop("checked"),e}export{json,js,xml,css,sql,java,html,yaml};