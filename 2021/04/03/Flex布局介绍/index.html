<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"xiaojianzheng.cn","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.7.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true}}</script><script src="/js/config.js"></script><meta name="description" content="Flexbox 布局 已是目前最为流行的 Web 布局方式之一，它给 Web 开发者在完成页面或组件的 UI 布局带来了极大的灵活性和便利性。但也是因为它有极大的灵活性，里面隐藏了一些不为人知的细节，如果不是对 Flexbox 极为熟悉或者对其规范极为了解的话，其中有很多细节将会被遗漏，而这些细节又会让你在使用的感到困惑，甚至是带来一定的麻烦。 这次在优化 imgcook 的 Flexbox 布局"><meta property="og:type" content="article"><meta property="og:title" content="Flex布局介绍"><meta property="og:url" content="http://xiaojianzheng.cn/2021/04/03/Flex%E5%B8%83%E5%B1%80%E4%BB%8B%E7%BB%8D/index.html"><meta property="og:site_name" content="JIAHE"><meta property="og:description" content="Flexbox 布局 已是目前最为流行的 Web 布局方式之一，它给 Web 开发者在完成页面或组件的 UI 布局带来了极大的灵活性和便利性。但也是因为它有极大的灵活性，里面隐藏了一些不为人知的细节，如果不是对 Flexbox 极为熟悉或者对其规范极为了解的话，其中有很多细节将会被遗漏，而这些细节又会让你在使用的感到困惑，甚至是带来一定的麻烦。 这次在优化 imgcook 的 Flexbox 布局"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-1.jpeg"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-2.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-3.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-4.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-5.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-6.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-7.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-8.jpeg"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-9.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-10.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-11.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-12.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-13.jpeg"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-14.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-15.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-16.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-17.jpeg"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-18.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-19.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-20.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-21.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-22.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-23.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-24.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-25.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-26.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-27.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-28.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-29.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-30.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-31.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-32.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-33.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-34.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-35.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-36.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-37.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-38.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-39.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-40.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-41.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-42.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-43.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-44.jpeg"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-45.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-46.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-47.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-48.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-49.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-50.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-51.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-52.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-53.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-54.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-55.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-56.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-57.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-58.png"><meta property="og:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-59.png"><meta property="article:published_time" content="2021-04-03T05:12:59.000Z"><meta property="article:modified_time" content="2021-04-03T05:12:59.000Z"><meta property="article:author" content="JIAHE"><meta property="article:tag" content="css"><meta property="article:tag" content="flex"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-1.jpeg"><link rel="canonical" href="http://xiaojianzheng.cn/2021/04/03/Flex%E5%B8%83%E5%B1%80%E4%BB%8B%E7%BB%8D/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://xiaojianzheng.cn/2021/04/03/Flex%E5%B8%83%E5%B1%80%E4%BB%8B%E7%BB%8D/","path":"2021/04/03/Flex布局介绍/","title":"Flex布局介绍"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Flex布局介绍 | JIAHE</title><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><h1 class="site-title">JIAHE</h1><i class="logo-line"></i></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-导航"><a href="/navigation/" rel="section"><i class="fa fa-location-arrow fa-fw"></i>导航</a></li><li class="menu-item menu-item-文档"><a href="/docs/" rel="section"><i class="fa fa-book fa-fw fa-fw"></i>文档</a></li><li class="menu-item menu-item-cheat-sheet"><a href="/cheat-sheet/" rel="section"><i class="fas fa-pen fa-fw"></i>Cheat Sheet</a></li><li class="menu-item menu-item-软件安装部署"><a href="/software-install-and-deploy/" rel="section"><i class="fab fa-windows fa-fw"></i>软件安装部署</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80%E4%BA%9B%E6%9C%AF%E8%AF%AD%E5%92%8C%E6%A6%82%E5%BF%B5"><span class="nav-number">1.</span> <span class="nav-text">一些术语和概念</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Flexbox-%E6%9C%AF%E8%AF%AD"><span class="nav-number">1.1.</span> <span class="nav-text">Flexbox 术语</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9D%97%E8%BD%B4%E5%92%8C%E5%86%85%E8%81%94%E8%BD%B4"><span class="nav-number">1.2.</span> <span class="nav-text">块轴和内联轴</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B9%A6%E5%86%99%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.3.</span> <span class="nav-text">书写模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E5%B1%9E%E6%80%A7"><span class="nav-number">1.4.</span> <span class="nav-text">逻辑属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%A9%E4%BD%99%E7%A9%BA%E9%97%B4%EF%BC%88%E5%8F%AF%E7%94%A8%E7%A9%BA%E9%97%B4%EF%BC%89%E5%92%8C-%E4%B8%8D%E8%B6%B3%E7%A9%BA%E9%97%B4"><span class="nav-number">1.5.</span> <span class="nav-text">剩余空间（可用空间）和 不足空间</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Flex-%E5%AE%B9%E5%99%A8-%E5%92%8C-Flex-%E9%A1%B9%E7%9B%AE"><span class="nav-number">2.</span> <span class="nav-text">Flex 容器 和 Flex 项目</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BF%90%E7%94%A8%E4%BA%8E-Flex-%E5%AE%B9%E5%99%A8%E4%B8%8A%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="nav-number">3.</span> <span class="nav-text">运用于 Flex 容器上的属性</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8C%87%E5%AE%9A%E4%B8%BB%E8%BD%B4%E6%96%B9%E5%90%91"><span class="nav-number">3.1.</span> <span class="nav-text">指定主轴方向</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6-Flex-%E9%A1%B9%E7%9B%AE%E6%98%AF%E5%90%A6%E6%8D%A2%E8%A1%8C%EF%BC%88Flex-%E8%A1%8C%EF%BC%89"><span class="nav-number">3.2.</span> <span class="nav-text">控制 Flex 项目是否换行（Flex 行）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BB%E8%BD%B4%E6%96%B9%E5%90%91%E5%AF%B9%E9%BD%90%E6%96%B9%E5%BC%8F"><span class="nav-number">3.3.</span> <span class="nav-text">主轴方向对齐方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BE%A7%E8%BD%B4%E6%96%B9%E5%90%91%E5%AF%B9%E9%BD%90%E6%96%B9%E5%BC%8F"><span class="nav-number">3.4.</span> <span class="nav-text">侧轴方向对齐方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E8%A1%8C%EF%BC%88%E5%88%97%EF%BC%89%E5%AF%B9%E9%BD%90%E6%96%B9%E5%BC%8F"><span class="nav-number">3.5.</span> <span class="nav-text">多行（列）对齐方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%97%B4%E8%B7%9D%EF%BC%88%E8%A1%8C%E4%B8%8E%E8%A1%8C%EF%BC%8C%E5%88%97%E4%B8%8E%E5%88%97%EF%BC%89"><span class="nav-number">3.6.</span> <span class="nav-text">间距（行与行，列与列）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BF%90%E7%94%A8%E4%BA%8E-Flex-%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="nav-number">4.</span> <span class="nav-text">运用于 Flex 项目的属性</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Flex-%E9%A1%B9%E7%9B%AE%E8%87%AA%E8%BA%AB%E5%AF%B9%E9%BD%90%E6%96%B9%E5%BC%8F"><span class="nav-number">4.1.</span> <span class="nav-text">Flex 项目自身对齐方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Flex-%E9%A1%B9%E7%9B%AE%E6%8E%92%E5%BA%8F"><span class="nav-number">4.2.</span> <span class="nav-text">Flex 项目排序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Flex-%E9%A1%B9%E7%9B%AE%E4%BC%B8%E7%BC%A9%E8%AE%A1%E7%AE%97"><span class="nav-number">4.3.</span> <span class="nav-text">Flex 项目伸缩计算</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#flex-grow-%E8%AE%A1%E7%AE%97"><span class="nav-number">4.3.1.</span> <span class="nav-text">flex-grow 计算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#flex-shrink-%E8%AE%A1%E7%AE%97"><span class="nav-number">4.3.2.</span> <span class="nav-text">flex-shrink 计算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#flex-basis-%E8%AE%A1%E7%AE%97"><span class="nav-number">4.3.3.</span> <span class="nav-text">flex-basis 计算</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Flex-%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%9A%84-margin"><span class="nav-number">4.4.</span> <span class="nav-text">Flex 项目上的 margin</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%E6%95%B4%E7%90%86"><span class="nav-number">4.5.</span> <span class="nav-text">案例整理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#padding-%E4%B8%8E%E8%87%AA%E5%8A%A8%E5%AE%BD%E9%97%AE%E9%A2%98"><span class="nav-number">4.5.1.</span> <span class="nav-text">padding 与自动宽问题</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93"><span class="nav-number">5.</span> <span class="nav-text">小结</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="JIAHE" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">JIAHE</p><div class="site-description" itemprop="description">Collection & Reuse</div></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">85</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">88</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-blogroll site-overview-item animated"><div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"> <a href="https://www.baidu.com/" title="https:&#x2F;&#x2F;www.baidu.com&#x2F;" rel="noopener" target="_blank">Baidu</a></li><li class="links-of-blogroll-item"> <a href="https://cn.bing.com/" title="https:&#x2F;&#x2F;cn.bing.com&#x2F;" rel="noopener" target="_blank">Bing</a></li><li class="links-of-blogroll-item"> <a href="https://www.google.com/" title="https:&#x2F;&#x2F;www.google.com&#x2F;" rel="noopener" target="_blank">Google</a></li><li class="links-of-blogroll-item"> <a href="https://zh.wikipedia.org/wiki/Wikipedia:%E9%A6%96%E9%A1%B5" title="https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;Wikipedia:%E9%A6%96%E9%A1%B5" rel="noopener" target="_blank">Wiki</a></li><li class="links-of-blogroll-item"> <a href="https://projectlombok.org/" title="https:&#x2F;&#x2F;projectlombok.org&#x2F;" rel="noopener" target="_blank">lombok</a></li><li class="links-of-blogroll-item"> <a href="https://logging.apache.org/log4j/2.x/" title="https:&#x2F;&#x2F;logging.apache.org&#x2F;log4j&#x2F;2.x&#x2F;" rel="noopener" target="_blank">log4j</a></li><li class="links-of-blogroll-item"> <a href="http://logback.qos.ch/" title="http:&#x2F;&#x2F;logback.qos.ch&#x2F;" rel="noopener" target="_blank">logback</a></li><li class="links-of-blogroll-item"> <a href="https://junit.org/junit5/" title="https:&#x2F;&#x2F;junit.org&#x2F;junit5&#x2F;" rel="noopener" target="_blank">junit</a></li><li class="links-of-blogroll-item"> <a href="https://element.eleme.cn/#/zh-CN" title="https:&#x2F;&#x2F;element.eleme.cn&#x2F;#&#x2F;zh-CN" rel="noopener" target="_blank">ElementUI</a></li><li class="links-of-blogroll-item"> <a href="https://zipkin.io/" title="https:&#x2F;&#x2F;zipkin.io&#x2F;" rel="noopener" target="_blank">Zipkin</a></li><li class="links-of-blogroll-item"> <a href="https://www.selenium.dev/zh-cn/" title="https:&#x2F;&#x2F;www.selenium.dev&#x2F;zh-cn&#x2F;" rel="noopener" target="_blank">Selenium</a></li><li class="links-of-blogroll-item"> <a href="https://nacos.io/zh-cn/docs/what-is-nacos.html" title="https:&#x2F;&#x2F;nacos.io&#x2F;zh-cn&#x2F;docs&#x2F;what-is-nacos.html" rel="noopener" target="_blank">Nacos</a></li><li class="links-of-blogroll-item"> <a href="https://dev.mysql.com/downloads/" title="https:&#x2F;&#x2F;dev.mysql.com&#x2F;downloads&#x2F;" rel="noopener" target="_blank">MySQL-Download</a></li><li class="links-of-blogroll-item"> <a href="https://redis.io/" title="https:&#x2F;&#x2F;redis.io&#x2F;" rel="noopener" target="_blank">Redis</a></li><li class="links-of-blogroll-item"> <a href="https://www.jetbrains.com/help/idea/discover-intellij-idea.html" title="https:&#x2F;&#x2F;www.jetbrains.com&#x2F;help&#x2F;idea&#x2F;discover-intellij-idea.html" rel="noopener" target="_blank">IDEA-Document</a></li><li class="links-of-blogroll-item"> <a href="https://jdk.java.net/" title="https:&#x2F;&#x2F;jdk.java.net&#x2F;" rel="noopener" target="_blank">JDK</a></li><li class="links-of-blogroll-item"> <a href="https://www.oracle.com/java/technologies/downloads/archive/" title="https:&#x2F;&#x2F;www.oracle.com&#x2F;java&#x2F;technologies&#x2F;downloads&#x2F;archive&#x2F;" rel="noopener" target="_blank">JDK-Oracle</a></li><li class="links-of-blogroll-item"> <a href="https://poi.apache.org/components/index.html" title="https:&#x2F;&#x2F;poi.apache.org&#x2F;components&#x2F;index.html" rel="noopener" target="_blank">POI</a></li><li class="links-of-blogroll-item"> <a href="https://assertj.github.io/doc/" title="https:&#x2F;&#x2F;assertj.github.io&#x2F;doc&#x2F;" rel="noopener" target="_blank">AssertJ</a></li><li class="links-of-blogroll-item"> <a href="https://docshome.gitbook.io/nginx-docs/" title="https:&#x2F;&#x2F;docshome.gitbook.io&#x2F;nginx-docs&#x2F;" rel="noopener" target="_blank">Nginx-CN</a></li><li class="links-of-blogroll-item"> <a href="https://github.com/cglib/cglib" title="https:&#x2F;&#x2F;github.com&#x2F;cglib&#x2F;cglib" rel="noopener" target="_blank">cglib</a></li></ul></div></div></div></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up"></i> <span>0%</span></div><a role="button" class="book-mark-link book-mark-link-fixed"></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://xiaojianzheng.cn/2021/04/03/Flex%E5%B8%83%E5%B1%80%E4%BB%8B%E7%BB%8D/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="JIAHE"><meta itemprop="description" content="Collection & Reuse"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="JIAHE"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Flex布局介绍</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-04-03 13:12:59" itemprop="dateCreated datePublished" datetime="2021-04-03T13:12:59+08:00">2021-04-03</time></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv"><span class="post-meta-item-icon"><i class="far fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></div></header><div class="post-body" itemprop="articleBody"><p><a target="_blank" rel="noopener" href="//www.w3cplus.com/blog/tags/157.html"><strong>Flexbox 布局</strong></a> 已是目前最为流行的 <a target="_blank" rel="noopener" href="//www.w3cplus.com/blog/tags/180.html">Web 布局</a>方式之一，它给 Web 开发者在完成页面或组件的 UI 布局带来了极大的灵活性和便利性。但也是因为它有极大的灵活性，里面隐藏了一些不为人知的细节，如果不是对 Flexbox 极为熟悉或者对其规范极为了解的话，其中有很多细节将会被遗漏，而这些细节又会让你在使用的感到困惑，甚至是带来一定的麻烦。</p><p>这次在<a target="_blank" rel="noopener" href="//www.imgcook.com/"><strong>优化 imgcook 的 Flexbox 布局</strong></a>时，重新阅读了一次 Flexbox 的规范，发现自己曾忽略了部分重要信息。为此在这篇文章中，将 <a target="_blank" rel="noopener" href="//www.w3cplus.com/blog/tags/157.html">Flexbox 布局</a>，<a target="_blank" rel="noopener" href="//www.w3cplus.com/blog/tags/609.html">CSS 的书写模式</a>，<a target="_blank" rel="noopener" href="//www.w3cplus.com/blog/tags/679.html">逻辑属性</a>，对齐方式结合在一起整理了一篇笔记，希望对于想了解或使用 Flexbox 碰到痛楚的同学有所帮助。</p><span id="more"></span><h1 id="一些术语和概念"><a href="#一些术语和概念" class="headerlink" title="一些术语和概念"></a>一些术语和概念</h1><h2 id="Flexbox-术语"><a href="#Flexbox-术语" class="headerlink" title="Flexbox 术语"></a>Flexbox 术语</h2><p>术语的统一有助于我们后面更好的讨论和解决问题。用下图来描述 Flexbox 中的术语：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-1.jpeg"></p><blockquote><p>主轴和侧轴只有在 Flexbox 布局体系中才有这样的概念，并不是水平方向永远都是主轴（Main Axis），垂直方向永远是侧轴（Cross Axis）。主轴和侧轴除了会受 Flexbox 中的 <code>flex-direction</code> 取值的影响之外，还会受 <a target="_blank" rel="noopener" href="//www.w3cplus.com/blog/tags/609.html">CSS 的书写模式 <code>writing-mode</code></a> 和 <code>direction</code> 以及 HTML 的 <code>dir</code> 属性的影响！</p></blockquote><h2 id="块轴和内联轴"><a href="#块轴和内联轴" class="headerlink" title="块轴和内联轴"></a>块轴和内联轴</h2><p><a target="_blank" rel="noopener" href="//www.w3.org/TR/css-align-3/">CSS Box Alignment Module Level 3</a> 引入了两个新的概念，即 <strong>块轴（Block Axis）</strong>和 <strong>内联轴（Inline Axis）</strong> :</p><ul><li> <strong>块轴</strong> 是沿 <strong>块 (block)</strong> （比如段落元素）的布局方向延伸的轴， <strong>它会垂直穿过行内轴</strong> </li><li> <strong>内联轴</strong> 是在使用特定写作模式中，沿句子单词的流动方向的轴。比如对于英语或者中文来说， <strong>内联轴是水平的</strong> </li></ul><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-2.png"></p><p>同时 <strong>块轴（Block Axis）又常称为列（Column）, 内联轴（Inline Axis）又常称为行（Row）:</strong></p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-3.png"> </p><p>虽然目前为止在 Flexbox 规范和 Grid 规范中都有自身关于对齐方式的描述，但 CSS 中有关于对齐方式都将收口到 Box Alignment 模块中；为此后面对说轴的说法更多的是 “ <strong>块轴</strong> ” 和 “ <strong>行内轴</strong> ”，结合到 Flexbox 布局中，轴的对应关系是：</p><ul><li> <strong>行内轴（Inline Axis）也对标 Flexbox 中的主轴 Main Axis</strong></li><li> <strong>块轴（Block Axis）也对标 Flexbox 中的侧轴 Cross Axis</strong></li></ul><blockquote><p><strong>块轴和行内轴同样受 CSS 的书写模式 <code>writing-mode</code> 和 <code>direction</code> 以及 HTML 的<code>dir</code> 属性影响。只不过，在 Flexbox 布局中，还受 <code>flex-direction</code> 属性的影响</strong>。</p></blockquote><h2 id="书写模式"><a href="#书写模式" class="headerlink" title="书写模式"></a>书写模式</h2><p><a target="_blank" rel="noopener" href="//www.w3.org/TR/css-writing-modes-3/">CSS Writing Modes Level 3</a> 规范中的 <code>writing-mode</code> 和 <code>direction</code> 以及 <a target="_blank" rel="noopener" href="//html.spec.whatwg.org/#the-dir-attribute"><strong>HTML 中的 <code>dir</code> 属性</strong></a>对于 Flexbox 中的主轴和侧轴都会有影响，将会改变主轴和侧轴的方向。</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-4.png"></p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-5.png"></p><h2 id="逻辑属性"><a href="#逻辑属性" class="headerlink" title="逻辑属性"></a>逻辑属性</h2><p><strong>块轴</strong> 、 <strong>内联轴</strong> 、 <strong>书写模式</strong> 的出现之后，就有了 <strong>块起点（Block Start）、块终点（Block End）、内联起点（Inline Start）和 内联终点（Inline End）:</strong> </p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-6.png"></p><p>如果放到 Flexbox 布局中：</p><ul><li> <strong>内联起点（Inline Start）</strong> 等同于 Flexbox 布局中的 <strong>主轴起点（Main Start）</strong> </li><li> <strong>内联终点（Inline End）</strong> 等同于 Flexbox 布局中的 <strong>主轴终点（Main End）</strong> </li><li> <strong>块起点（Block Start）</strong> 等同于 Flexbox 布局中的 <strong>侧轴起点（Cross Start）</strong> </li><li> <strong>块终点（Block End）</strong> 等同于 Flexbox 布局中的 <strong>侧轴终点（Cross End）</strong> </li></ul><p>同时 CSS Logical Properties and Values Level 1 规范中引入了 <code>block-start</code> 、 <code>block-end</code> 、 <code>inline-start</code> 和 <code>inline-end</code> , 但它们和 Flexbox 中，Grid 中以入 Box Alignment 中的 <code>flex-start</code> 、 <code>start</code> 、 <code>flex-end</code> 和 <code>end</code> 是不等同的，也不是同一领域中的概念。这几个属性对应的是物理属性中的 <code>top</code> 、 <code>right</code> 、 <code>bottom</code> 和 <code>left</code> ：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-7.png"></p><p>也就是说，引入 CSS 逻辑属性之后，<a target="_blank" rel="noopener" href="//www.w3cplus.com/css/new-box-model-width-logical-properties.html">CSS 盒模型将分 <strong>物理盒模型</strong> 和 <strong>逻辑盒模型</strong></a> :</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-8.jpeg"></p><p>CSS 属性也从此之后有 <a target="_blank" rel="noopener" href="//www.w3cplus.com/blog/tags/679.html"><strong>逻辑属性</strong> 和 <strong>物理属性</strong></a> 之分：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-9.png"></p><blockquote><p>注意，CSS 逻辑属性也受 CSS 书写模式 <code>writing-mode</code> 、 <code>directioin</code> 属性和 HTML 的 <code>dir</code> 属性影响，而且不同组合之下也不同：</p></blockquote><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-10.png"></p><h2 id="剩余空间（可用空间）和-不足空间"><a href="#剩余空间（可用空间）和-不足空间" class="headerlink" title="剩余空间（可用空间）和 不足空间"></a>剩余空间（可用空间）和 不足空间</h2><p>在 Flexbox 布局模块中，Flex 容器中可能会包含一个或多个 Flex 项目。而 Flex 容器和 Flex 项目都有其自身的尺寸大小，那么就会有 Flex 项目尺寸大小之和大于或小于 Flex 容器的情景：</p><ul><li> 当所有 Flex 项目尺寸大小之和小于 Flex 容器时，Flex 容器就会有多余的空间没有被填充，那么这个空间就被称为 Flex 容器的剩余空间（Positive Free Space）</li><li> 当所有 Flex 项目尺寸大小之和大于 Flex 容器时，Flex 容器就没有足够的空间容纳所有 Flex 项目（Flex 项目会溢出 Flex 容器），那么多出来的这个空间就被称为不足空间（Negative Free Space），也被称为负空间</li></ul><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-11.png"></p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-12.png"></p><h1 id="Flex-容器-和-Flex-项目"><a href="#Flex-容器-和-Flex-项目" class="headerlink" title="Flex 容器 和 Flex 项目"></a>Flex 容器 和 Flex 项目</h1><p>在元素上使用 <a target="_blank" rel="noopener" href="//www.w3cplus.com/css/web-layout-css-display.html"><code>display</code></a> 设置值为 <code>flex</code> 或 <code>inline-flex</code> ，该容器会成为 Flex 容器，该容器下的子元素，包括 文本节点，伪元素。</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-13.jpeg"></p><p>使用 <code>flex</code> 和 <code>inline-flex</code> 的具体场景：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-14.png"></p><p>如果元素显式设置了 <code>display</code> 的值为 <code>flex</code> 或 <code>inline-flex</code> ,Flex 项目在未显式设置与尺寸大小有关的属性时，Flex 项目都将会按其内容大小来计算自身大小。</p><ul><li> 设置为 <code>display: flex</code> 时，Flex 容器未显式设置与宽度相关的属性时，其宽度与其父容器等同（相当于 <code>width: 100%</code> ）</li><li> 设置为 <code>display: inline-flex</code> 时，Flex 容器未显式设置与宽度相关的属性时，其宽度等同于所有 Flex 项目的宽度和</li></ul><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-15.png"></p><p>当 Flex 容器中所有 Flex 项目所有宽和大于 Flex 容器时：</p><ul><li> 设置为 <code>display: flex</code> 时，Flex 项目会溢出 Flex 容器</li><li> 设置为 <code>display: inline-flex</code> 时，Flex 项目会撑大 Flex 容器，有可能造成 Flex 容器溢出其父元素（或祖先元素）</li></ul><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-16.png"></p><p>使用 <code>display: inline-flex</code> 时最好结合 <code>min-width</code> 和 <code>min-height</code> 一起使用。不建议显式设置 <code>width</code> 和 <code>height</code> 。</p><p><code>display</code> 设置为 <code>flex</code> 时，Flex 容器从表现形式上类似于块容器，事实它是一个 Flex 容器，上下文格式是 FFC（Flexbox Formatting Content），因此运用于块容器（Block Formatting Content）上的一些布局属性就不再适用，比如：</p><ul><li> CSS 的 <code>column-*</code>  属性在 Flex 容器上不起作用</li><li> CSS 的 <code>float</code>  和 <code>clear</code> 属性在 Flex 项目上不起作用，也不会让 Flex 项目脱离文档流</li><li> CSS 的 <code>vertical-align</code> 属性在 Flex 项目上不起作用</li><li> CSS 伪元素 <code>::first-line</code>  和 <code>::first-letter</code> 在 Flex 容器上不起作用，而且 Flex 容器不会为其祖先提供首行或首字母格式化</li></ul><p>有一点需要注意， <strong>如果元素的 <code>display</code>的值为 <code>inline-flex</code> ，并且该元素显式的设置了 <code>float</code> 或 <code>position</code> 的值为 <code>relative</code>、 <code>absolute</code> 或 <code>fixed</code>，那么 <code>display</code> 的计算值是 <code>flex</code>， 即 Flex 容器表现行为和 <code>display: flex</code> 等同</strong> 。</p><h1 id="运用于-Flex-容器上的属性"><a href="#运用于-Flex-容器上的属性" class="headerlink" title="运用于 Flex 容器上的属性"></a>运用于 Flex 容器上的属性</h1><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-17.jpeg"></p><h2 id="指定主轴方向"><a href="#指定主轴方向" class="headerlink" title="指定主轴方向"></a>指定主轴方向</h2><p>在 Flex 容器中显式使用 <code>flex-direction</code>  可以指定主轴方向，如果未显式设置 <code>flex-direction</code> 属性，Flex 容器则会采用其默认值 <code>row</code> 。</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-18.png"></p><p>上图展示的仅是阅读方式是 <strong>LTR(Left-to-Right)，如无特殊声明，接下来的文档不会因阅读方式（即 CSS 的 <code>writing-mode</code> 、 <code>direction</code> 和 HTML 的 <code>dir</code> 属性</strong>）列出不同的示意图。</p><p>除非需要显式的修改主轴方向，才需要在 Flex 容器上显式设置 <code>flex-direction</code> , 比如像下图这种排版本方式：</p><p> <img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-19.png"></p><p><code>row-reverse</code> 和默认值 <code>row</code> 表现恰恰相反，适用于下面这样布局场景：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-20.png"></p><p>在 Flexbox 布局中， <code>flex-direction</code> 在指定 Flex 容器主轴方向时，也会对 Flex 项目的排列顺序有影响（<strong>在不改变 DOM 结构，要实现反方向排版时，非常适合</strong>）。除了 <code>flex-direction</code> 可以影响 Flex 项目排列顺序之外，在 Flex 项目中显式使用 <code>order</code> 属性也可以，并且可以在不影响 DOM 结构，按照你自己任意想要的意图进行排序。</p><p>目前在 imgcook 中使用 Flexbox 布局时，在 Flex 容器上都会显式的设置 <code>flex-direction</code> 的值，即使是默认值： <code>row</code> 。在布局算法优化中，可以做相应的处理，只有在非 <code>row</code> 时才在 Flex 容器上显式设置 <code>flex-direction</code> ：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-21.png"></p><h2 id="控制-Flex-项目是否换行（Flex-行）"><a href="#控制-Flex-项目是否换行（Flex-行）" class="headerlink" title="控制 Flex 项目是否换行（Flex 行）"></a>控制 Flex 项目是否换行（Flex 行）</h2><p>使用 <code>flex-wrap</code> 可以控制 Flex 项目在 Flex 容器换行的方式：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-22.png"></p><p>只有所有 Flex 项目宽度总和大于 Flex 容器主轴尺寸时，设置 <code>flex-wrap</code> 属性才能生效。</p><p><code>flex-wrap</code> 取值为非 <code>nowrap</code> （即 <code>wrap</code>  和 <code>wrap-reverse</code> ）都可以让 Flex 项目换行（列）显式，其中 <code>wrap-reverse</code> 表现行为和 <code>wrap</code> 刚好相反。</p><table><thead><tr><th align="center"><strong>组合效果</strong></th><th align="center"><strong>表现效果</strong></th></tr></thead><tbody><tr><td align="center">效果 1</td><td align="center"><img class="sr-rd-content-img" data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-23.png" style="zoom:.6"></td></tr><tr><td align="center">效果 2</td><td align="center"><img class="sr-rd-content-img" data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-24.png" style="zoom:.6"></td></tr><tr><td align="center">效果 3</td><td align="center"><img class="sr-rd-content-img" data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-25.png" style="zoom:.6"></td></tr><tr><td align="center">效果 4</td><td align="center"><img class="sr-rd-content-img" data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-26.png" style="zoom:.6"></td></tr><tr><td align="center">效果 5</td><td align="center"><img class="sr-rd-content-img" data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-27.png" style="zoom:.6"></td></tr><tr><td align="center">效果 6</td><td align="center"><img class="sr-rd-content-img" data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-28.png" style="zoom:.6"></td></tr><tr><td align="center">效果 7</td><td align="center"><img class="sr-rd-content-img" data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-29.png" style="zoom:.6"></td></tr><tr><td align="center">效果 8</td><td align="center"><img class="sr-rd-content-img" data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-30.png" style="zoom:.6"></td></tr></tbody></table><p><code>flex-direction</code> 和 <code>flex-wrap</code> 可以简写成 <strong><code>flex-flow</code></strong> 。 <code>flex-flow</code> 使用时可以只显式设置一个值，也可以显式设置两个值：</p><ul><li> <code>flex-flow</code> 只显式设置一个值，并且该值和 <code>&lt;flex-direction&gt;</code> 相匹配时， <code>flex-wrap</code> 会取值 <code>initial</code> </li><li> <code>flex-flow</code> 只显式设置一个值，并且该值和 <code>&lt;flex-wrap&gt;</code> 相匹配时， <code>flex-direction</code> 会取值 <code>initial</code> </li><li> <code>flex-flow</code> 显式设置两个值时， <code>flex-direction</code> 和 <code>flow-wrap</code> 没有先后顺序之分，即可 <code>flex-flow: column wrap</code> 和 <code>flex-flow: wrap column</code> 等同</li></ul><h2 id="主轴方向对齐方式"><a href="#主轴方向对齐方式" class="headerlink" title="主轴方向对齐方式"></a>主轴方向对齐方式</h2><p>在 Flex 容器中使用 <code>justify-content</code> 来控制 Flex 项目在 Flex 容器主轴方向的对齐方式，也可以用来分配 Flex 容器中主轴方向的剩余空间。使用 <code>justify-content</code> 分配 Flex 容器剩余空间，主要是将剩余空间按不同的对齐方式，将剩余空间分配给 Flex 项目的两侧，即控制 Flex 项目与 Flex 项目之间的间距。</p><p><code>justify-content</code> 存在两个规范中：</p><ul><li> <a target="_blank" rel="noopener" href="//www.w3.org/TR/css-flexbox-1/#justify-content-property">CSS Flexible Box Layout Module Level 1</a></li><li> <a target="_blank" rel="noopener" href="//www.w3.org/TR/css-align-3/#align-justify-content">CSS Box Alignment Module Level 3</a></li></ul><p>在 Flexbox 布局模块中， <code>justify-content</code> 取值只要有以下六种：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-31.png"></p><p>需要注意 <code>space-between</code> 、 <code>space-around</code> 和 <code>space-evenly</code> 三者的差异：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-32.png"></p><ul><li> <code>space-between</code> 会让第一个 Flex 项目的盒子起始边缘与 Flex 容器主轴起点相稳合，最后一个 Flex 项目的盒子结束边缘与 Flex 容器主轴终点相稳合，其它相邻 Flex 项目之间间距相等。当 Flex 容器中只有一个 Flex 项目时，其表现行为和 <code>flex-start</code> 等同</li><li> <code>space-around</code> 会让第一个 Flex 项目的盒子起始边缘与 Flex 容器主轴起点间距和最后一个 Flex 项目的盒子结束边缘与 Flex 容器主轴终点间距相等，并且等于其他相邻两个 Flex 项目之间间距的一半。当 Flex 容器中只有一个 Flex 项目时，其表现行为和 <code>center</code> 等同</li><li> <code>space-evenly</code> 会让第一个 Flex 项目的盒子起始边缘与 Flex 容器主轴起点间距和最后一个 Flex 项目的盒子结束边缘与 Flex 容器主轴终点间距相等，并且等于其他相邻两个 Flex 项目之间间距。当 Flex 容器中只有一个 Flex 项目时，其表现行为和 <code>center</code> 等同</li></ul><p>如果 Flex 容器没有额外的剩余空间，或者说剩余空间为负值时， <code>justify-content</code> 的值表现形式：</p><ul><li> <code>flex-start</code> 会让 Flex 项目在 Flex 容器主轴结束点处溢出</li><li> <code>flex-end</code> 会让 Flex 项目在 Flex 容器主轴起点处溢出</li><li> <code>center</code> 会让 Flex 项目在 Flex 容器两端溢出</li><li> <code>space-between</code> 和 <code>flex-start</code> 相同</li><li> <code>space-around</code>  和 <code>center</code> 相同</li><li> <code>space-evenly</code> 和 <code>center</code> 相同</li></ul><p>在 Flexbox 布局中，可以使用这些属性很好控制 Flex 容器的剩余空间，比如：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-33.png"></p><h2 id="侧轴方向对齐方式"><a href="#侧轴方向对齐方式" class="headerlink" title="侧轴方向对齐方式"></a>侧轴方向对齐方式</h2><p>在 Flexbox 容器中使用 <code>align-items</code> 来控制 Flex 项目在侧轴方向的对齐方式。</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-34.png"></p><p><code>align-items</code> 的默认值是 <code>stretch</code> ，但只有 Flex 项目示显式设置 <code>height</code> (或 <code>width</code> ) 值，Flex 项目才会被拉伸填满整个 Flex 容器。</p><p>如果 Flex 容器没有剩余空间或剩余空间为负值是：</p><ul><li> <code>flex-start</code> 会让 Flex 项目在 Flex 容器侧轴终点处溢出</li><li> <code>flex-end</code> 会让 Flex 项目在 Flex 容器侧轴起点处溢出</li><li> <code>center</code> 会让 Flex 项目在 Flex 容器侧轴两侧溢出</li><li> <code>baseline</code> 会让 Flex 项目在 Flex 容器侧轴终点溢出，有点类似于 <code>flex-start</code> </li></ul><h2 id="多行（列）对齐方式"><a href="#多行（列）对齐方式" class="headerlink" title="多行（列）对齐方式"></a>多行（列）对齐方式</h2><p><code>align-content</code> 只适用于 Flex 容器在没有足够空间（所有 Flex 项目宽度之和大于 Flex 容器主轴尺寸），并且显式设置 <code>flex-wrap</code> 的值为非 <code>wrap</code> 时。</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-35.png"></p><p><code>align-content</code> 表现行为有点类似于 <code>justify-cotent</code> 控制 Flex 项目在主轴方向的对齐方式（分配 Flex 容器主轴剩余空间），而 <code>align-content</code> 可以用来控制多行状态下，行在 Flex 容器侧轴的对齐方式（分配 Flex 容器侧轴剩余空间）。可以把 <code>align-content</code> 状态下侧轴中的整行当作是 <code>justify-content</code> 状态下单个 Flex 项目。</p><p><code>align-content</code> 还有一点不同之处，多了一个 <code>stretch</code> 值。当 Flex 容器中所有行的尺寸之和大于 Flex 容器侧轴尺寸（Flex 容器侧轴没有可用空间或可用空间为负值）时，各值表现行为：</p><ul><li> <code>flex-start</code> 会让 Flex 容器的行在侧轴结束点溢出</li><li> <code>flex-end</code> 会让 Flex 容器的行在侧轴起点溢出</li><li> <code>center</code> 会让 Flex 容器行在侧轴两端溢出</li><li> <code>stretch</code> 表现行为类似于 <code>flex-start</code> </li><li> <code>space-around</code> 表现行为类似于 <code>center</code> </li><li> <code>space-between</code> 表现行为类似于 <code>flex-start</code> </li><li> <code>space-evenly</code> 表现行为类似于 <code>center</code> </li></ul><h2 id="间距（行与行，列与列）"><a href="#间距（行与行，列与列）" class="headerlink" title="间距（行与行，列与列）"></a>间距（行与行，列与列）</h2><p><code>gap</code> 用来控制 Flex 项目之间的间距，但会忽略 Flex 项目与 Flex 容器边缘的间距：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-36.png"></p><h1 id="运用于-Flex-项目的属性"><a href="#运用于-Flex-项目的属性" class="headerlink" title="运用于 Flex 项目的属性"></a>运用于 Flex 项目的属性</h1><h2 id="Flex-项目自身对齐方式"><a href="#Flex-项目自身对齐方式" class="headerlink" title="Flex 项目自身对齐方式"></a>Flex 项目自身对齐方式</h2><p>在 Flex 容器上可以使用 <code>justify-content</code> 、 <code>align-content</code> 以及 <code>align-items</code> 分配 Flex 容器主轴和侧轴的空间（控制 Flex 容器中所有 Flex 项目对齐方式）。如果你需要对 Flex 项目个体对齐方式做处理，可以使用 <code>align-self</code> ：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-37.png"></p><p><code>align-self</code> 取不同值的效果：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-38.png"></p><p><strong>Flex 项目的 <code>align-self</code> 显式设置值为 <code>auto</code> 时不会覆盖 Flex 容器的 <code>align-items</code> ; 另外如果在 Flex 项目上显式设置 <code>margin</code> 的值为 <code>auto</code> 时，Flex 项目的 <code>align-self</code> 值将会失效</strong>。</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-39.png"></p><p>类似上图这样的场景， <code>align-self</code> 就非常实用。</p><h2 id="Flex-项目排序"><a href="#Flex-项目排序" class="headerlink" title="Flex 项目排序"></a>Flex 项目排序</h2><p>在 Flex 容器中使用 <code>flex-direction</code> 可以对 Flex 容器中的所有 Flex 项目按 “ <strong>LTR</strong> ”、“ <strong>RTL</strong> ”、“ <strong>TTB</strong> ” 或 “ <strong>BTT</strong> ” 方向排列。</p><ul><li> <strong>LTR</strong> ： <code>flex-driection: row</code> </li><li> <strong>RTL</strong> ： <code>flex-direction: row-reverse</code> </li><li> <strong>TTB</strong> : <code>flex-direction: column</code> </li><li> <strong>BTT</strong> : <code>flex-direction: column-reverse</code> </li></ul><p>在 Flex 项目上，还可以使用 <code>order</code> 指定具体的数值，在不改变 DOM 结构之下对 Flex 项目进行排序，其中数值越大，越在往后排：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-40.png"></p><p>在一些左右，上下互换顺序的时候，除了 <code>flex-direction</code> 之外，还可以在 Flex 项目设置 <code>order</code> ：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-41.png"></p><h2 id="Flex-项目伸缩计算"><a href="#Flex-项目伸缩计算" class="headerlink" title="Flex 项目伸缩计算"></a>Flex 项目伸缩计算</h2><p>Flex 项目中使用 <code>flex</code> 属性可以根据 Flex 容器的可用空间对自身做伸缩计算，其包含三个子属性： <code>flex-basis</code> 、 <code>flex-shrink</code> 和 <code>flex-grow</code> 。这几个属性都有其初始值：</p><ul><li> <code>flex-grow</code> 的初始值为 <code>0</code> </li><li> <code>flex-shrink</code> 的初始值为 <code>1</code> </li><li> <code>flex-basis</code> 的初始值为 <code>auto</code> </li></ul><p>即 <code>flex</code> 的三个子属性： <code>flex-grow</code> （扩展比率）、 <code>flex-shrink</code> （收缩比率）和 <code>flex-basis</code> （伸缩基准）。这三个属性可以控制 Flex 项目，具体的表现如下：</p><ul><li> <code>flex-grow</code> ：设置 Flex 项目的扩展比率，让 Flex 项目得到（扩展）多少 Flex 容器剩余空间（Positive Free Space），即 Flex 项目可能会变大</li><li> <code>flex-shrink</code> ：设置 Flex 项目收缩比率，让 Flex 项目减去 Flex 容器不足的空间（Negative Free Space），即 Flex 项目可能会变小</li><li> <code>flex-basis</code> ：Flex 项目未扩展或收缩之前，它的大小，即指定了 Flex 项目在主轴方向的初始大小</li></ul><p><code>flex</code> 属性可以指定 <strong><code>1</code>个值（单值语法）</strong> 、 <strong><code>2</code>个值（双值语法）</strong>  或 <strong><code>3</code>个值（三值语法）</strong> 。</p><p>单值语法：值必须为以下其中之一：</p><ul><li> 一个无单位的数（ <code>&lt;number&gt;</code> ），比如 <code>flex: 1</code> ，这个时候它会被当作 <code>&lt;flex-grow&gt;</code> 的值</li><li> 一个有效的宽度（ <code>width</code> ）值，比如 <code>flex: 30vw</code> ，这个时候它会被当作 <code>&lt;flex-basis&gt;</code> 的值</li><li> 关键词 <code>none</code> 、 <code>auto</code> 或 <code>initial</code> （即初始值）</li></ul><p>双值语法：第一个值必须为一个无单位数值，并且它会被当作 <code>&lt;flex-grow&gt;</code> 的值；第二个值必须为以下之一：</p><ul><li> 一个无单位的数（ <code>&lt;number&gt;</code> ），它会被当作 <code>&lt;flex-shrink&gt;</code> 的值</li><li> 一个有效的宽度（ <code>width</code> ）值，它会被当作 <code>&lt;flex-basis&gt;</code> 的值</li></ul><p>三值语法：</p><ul><li> 第一个值必须是一个无单位数（ <code>&lt;number&gt;</code> ），并且它会被当作 <code>&lt;flex-grow&gt;</code> 的值</li><li> 第二个值必须是一个无单位数（ <code>&lt;number&gt;</code> ），并且它会被当作 <code>&lt;flex-shrink&gt;</code> 的值</li><li> 第三个值必须为一个有效的宽度（ <code>width</code> ）值，并且它会被当作 <code>&lt;flex-basis&gt;</code> 的值</li></ul><p><code>flex</code> 属性的取值可以是：</p><ul><li> <code>auto</code> ：Flex 项目会根据自身的 <code>width</code> 和 <code>height</code> 来确定尺寸，但 Flex 项目根据 Flex 容器剩余空间进行伸缩。其相当于 <code>flex: 1 1 auto</code> </li><li> <code>initial</code> ：Flex 项目会根据自身的 <code>width</code> 和 <code>height</code> 来设置尺寸。它会缩短自身以适应 Flex 容器，但不会伸长并吸收 Flex 容器中的额外剩余空间来适应 Flex 容器。其相当于 <code>flex: 0 1 auto</code> </li><li> <code>none</code> ：Flex 项目会根据自身的 <code>width</code> 和 <code>height</code> 来设置尺寸。它是完全非弹性的（既不会缩短，也不会伸长来适应 Flex 容器）。其相当于 <code>flex: 0 0 auto</code> </li><li> <code>&lt;flex-grow&gt;</code> ：定义 Flex 项目的 <code>flex-grow</code> 属性，取值为 <code>&lt;number&gt;</code> </li><li> <code>&lt;flex-shrink&gt;</code> ：定义 Flex 项目的 <code>flex-shrink</code> 属性，取值为 <code>&lt;number&gt;</code> </li><li> <code>&lt;flex-basis&gt;</code> ：定义 Flex 项目的 <code>flex-basis</code> 属性。<strong>若值为 <code>0</code> ，则必须加上单位，以免被视作伸缩性</strong></li></ul><h3 id="flex-grow-计算"><a href="#flex-grow-计算" class="headerlink" title="flex-grow 计算"></a><code>flex-grow</code> 计算</h3><p><code>flex-grow</code> 计算公式：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-42.png"></p><p>示例：</p><p>假设 Flex 容器中有四个 Flex 项目，具体参数：</p><ul><li> Flex 容器的宽度是 <code>80vw</code> </li><li> Flex 容器中共有四个 Flex 项目，并且每个 Flex 项目的宽度是 <code>10vw</code> </li><li> Flex 项目宽度总和为 <code>10vw x 4 = 40vw</code> </li><li> Flex 容器的剩余空间为 <code>80vw - 40vw = 40vw</code> </li><li> Flex 项目的 <code>flex-grow</code> 的值分别是 <code>0</code> 、 <code>1</code> 、 <code>2</code> 和 <code>3</code> ，所有 Flex 项目的 <code>flex-grow</code> 总和为 <code>0 + 1 + 2 + 3 = 6</code> </li></ul><table><thead><tr><th align="center"><strong><code>flex-grow</code>&nbsp;公式中变量名称</strong></th><th align="center"><strong>Flex1</strong></th><th align="center"><strong>Flex2</strong></th><th align="center"><strong>Flex3</strong></th><th align="center"><strong>Flex4</strong></th><th align="center"><strong>总数</strong></th></tr></thead><tbody><tr><td align="center"><strong>Flex 项目的 <code>flex-grow</code> 值</strong></td><td align="center"><code>0</code></td><td align="center"><code>1</code></td><td align="center"><code>2</code></td><td align="center"><code>3</code></td><td align="center"><code>0 + 1 + 2+ 3 = 6</code></td></tr><tr><td align="center"><strong>Flex 项目宽度</strong></td><td align="center"><code>10vw</code></td><td align="center"><code>10vw</code></td><td align="center"><code>10vw</code></td><td align="center"><code>10vw</code></td><td align="center"><code>10vw x 4 = 40vw</code></td></tr><tr><td align="center"><strong>Flex 容器宽度</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>80vw</code></td></tr><tr><td align="center"><strong>Flex 容器剩余空间</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>80vw - 40vw = 40vw</code></td></tr><tr><td align="center"><strong>Flex 项目新宽度</strong></td><td align="center"><code>?</code></td><td align="center"><code>?</code></td><td align="center"><code>?</code></td><td align="center"><code>?</code></td><td align="center"></td></tr></tbody></table><p>计算过程：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-43.png"></p><p>计算出来的结果：</p><table><thead><tr><th align="center"><strong><code>flex-grow</code>&nbsp;公式中变量名称</strong></th><th align="center"><strong>Flex1</strong></th><th align="center"><strong>Flex2</strong></th><th align="center"><strong>Flex3</strong></th><th align="center"><strong>Flex4</strong></th><th align="center"><strong>总数</strong></th></tr></thead><tbody><tr><td align="center"><strong>Flex 项目的 <code>flex-grow</code> 值</strong></td><td align="center"><code>0</code></td><td align="center"><code>1</code></td><td align="center"><code>2</code></td><td align="center"><code>3</code></td><td align="center"><code>0 + 1 + 2+ 3 = 6</code></td></tr><tr><td align="center"><strong>Flex 项目宽度</strong></td><td align="center"><code>10vw</code></td><td align="center"><code>10vw</code></td><td align="center"><code>10vw</code></td><td align="center"><code>10vw</code></td><td align="center"><code>10vw x 4 = 40vw</code></td></tr><tr><td align="center"><strong>Flex 容器宽度</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>80vw</code></td></tr><tr><td align="center"><strong>Flex 容器剩余空间</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>80vw - 40vw = 40vw</code></td></tr><tr><td align="center"><strong>Flex 项目新宽度</strong></td><td align="center"><strong><code>10vw</code></strong></td><td align="center"><strong><code>16.667vw</code></strong></td><td align="center"><strong><code>23.333vw</code></strong></td><td align="center"><strong><code>30vw</code></strong></td><td align="center"></td></tr></tbody></table><p><code>flex-grow</code> 的取值还可以是 <strong>小数值</strong> 。如果将上面示例中的 <code>flex-grow</code> 的值分别换成 <code>0</code> 、 <code>0.1</code> 、 <code>0.2</code> 和 <code>0.3</code> ，这个时候 <code>flex-grow</code> 的总和（所有 Flex 项目的 <code>flex-grow</code> 和）就是 <code>0.6</code>  ，该值小于 <code>1</code> 。这个时候，Flex 项目同样会根据 <code>flex-grow</code> 增长因子来瓜分 Flex 容器的剩余空间，Flex 自身宽度也会变大，但 Flex 容器的剩余空间不会被全部瓜分完，因为所有 <code>flex-grow</code> 和小于 <code>1</code> 。就该示例下，只瓜分了 Flex 容器剩余空间宽度的 <code>60%</code> 。</p><p>如果 <code>flex-grow</code> 和小于 <code>1</code> , 其计算公式如下：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-44.jpeg"></p><table><thead><tr><th align="center"><strong><code>flex-grow</code>&nbsp;公式中变量名称</strong></th><th align="center"><strong>Flex1</strong></th><th align="center"><strong>Flex2</strong></th><th align="center"><strong>Flex3</strong></th><th align="center"><strong>Flex4</strong></th><th align="center"><strong>总数</strong></th></tr></thead><tbody><tr><td align="center"><strong>Flex 项目的 <code>flex-grow</code> 值</strong></td><td align="center"><code>0</code></td><td align="center"><code>.1</code></td><td align="center"><code>.2</code></td><td align="center"><code>.3</code></td><td align="center"><code>0 + 1 + 2+ 3 = .6</code></td></tr><tr><td align="center"><strong>Flex 项目宽度</strong></td><td align="center"><code>10vw</code></td><td align="center"><code>10vw</code></td><td align="center"><code>10vw</code></td><td align="center"><code>10vw</code></td><td align="center"><code>10vw x 4 = 40vw</code></td></tr><tr><td align="center"><strong>Flex 容器宽度</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>80vw</code></td></tr><tr><td align="center"><strong>Flex 容器剩余空间</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>80vw - 40vw = 40vw</code></td></tr><tr><td align="center"><strong>Flex 项目新宽度</strong></td><td align="center"><strong><code>10vw</code></strong></td><td align="center"><strong><code>14vw</code></strong></td><td align="center"><strong><code>18vw</code></strong></td><td align="center"><strong><code>22vw</code></strong></td><td align="center"></td></tr></tbody></table><p>即使 Flex 容器中所有 Flex 项目的 <code>flex-grow</code> 和大于 <code>1</code> ，但也不可以绝对地说，Flex 项目可以根据自身的 <code>flex-grow</code> 所占比率来瓜分 Flex 容器的剩余空间。因为元素的尺寸会受 <code>max-width</code> 的影响。<strong>当 Flex 项目显式设置了 <code>max-width</code>的值时，当 Flex 项目根据<code>flex-grow</code>计算出来的宽度大于 <code>max-width</code>时，Flex 项目会按 <code>max-width</code>的值为准</strong>。比如我们在前面的示例上，给所有 Flex 项目设置一个 <code>max-width</code> 的值为 <code>18vw</code> ，此时计算过程和结果如下：</p><table><thead><tr><th align="center"><strong><code>flex-grow</code>&nbsp;公式中变量名称</strong></th><th align="center"><strong>Flex1</strong></th><th align="center"><strong>Flex2</strong></th><th align="center"><strong>Flex3</strong></th><th align="center"><strong>Flex4</strong></th><th align="center"><strong>总数</strong></th></tr></thead><tbody><tr><td align="center"><strong>Flex 项目的 <code>flex-grow</code> 值</strong></td><td align="center"><code>0</code></td><td align="center"><code>1</code></td><td align="center"><code>2</code></td><td align="center"><code>3</code></td><td align="center"><code>0 + 1 + 2+ 3 = 6</code></td></tr><tr><td align="center"><strong>Flex 项目宽度</strong></td><td align="center"><code>10vw</code></td><td align="center"><code>10vw</code></td><td align="center"><code>10vw</code></td><td align="center"><code>10vw</code></td><td align="center"><code>10vw x 4 = 40vw</code></td></tr><tr><td align="center"><strong>Flex 容器宽度</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>80vw</code></td></tr><tr><td align="center"><strong>Flex 容器剩余空间</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>80vw - 40vw = 40vw</code></td></tr><tr><td align="center"><strong>Flex 项目计算出的新宽度</strong></td><td align="center"><strong><code>10vw</code></strong></td><td align="center"><strong><code>16.667vw</code></strong></td><td align="center"><strong><code>23.333vw</code></strong></td><td align="center"><strong><code>30vw</code></strong></td><td align="center"></td></tr><tr><td align="center"><strong>Flex 项目设置最大宽度</strong></td><td align="center"><strong><code>18vw</code></strong></td><td align="center"><strong><code>18vw</code></strong></td><td align="center"><strong><code>18vw</code></strong></td><td align="center"><strong><code>18vw</code></strong></td><td align="center"></td></tr><tr><td align="center"><strong>Flex 项目最终宽度</strong></td><td align="center"><strong><code>10vw</code></strong></td><td align="center"><strong><code>16.667vw</code></strong></td><td align="center"><strong><code>18vw</code></strong></td><td align="center"><strong><code>18vw</code></strong></td><td align="center"></td></tr></tbody></table><p>这个时候 Flex 容器剩余空间并没有全部用完， <code>40vw - 0vw - 6.667vw - 8vw - 8vw = 17.333vw</code> ，即 Flex 容器还有 <code>17.333vw</code> 的剩余空间。</p><p>如果 Flex 项目没有显式设置与宽度有关的属性（包括 <code>flex-basis</code> ），那么 <code>flex-grow</code> 在计算时，Flex 项目会按其内容的宽度来计算。</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-45.png"></p><p>从上图可以得到：</p><ul><li> Flex 容器的宽度是 <code>804px</code> </li><li> Flex 项目的宽度分别是 <code>43.36px</code> 、 <code>92.09px</code> 、 <code>140.83px</code> 和 <code>189.56px</code> ，所有 Flex 项目宽度的总和为 <code>465.84px</code> </li><li> Flex 容器的剩余宽度为 <code>804px - 465.84px = 338.16px</code> </li><li> 所有 Flex 项目的 <code>flex-grow</code> 值为 <code>1</code> ，即 所有 Flex 项目的 <code>flex-grow</code> 总和为 <code>4</code> </li></ul><p>将相应的值套用到 <code>flex-grow</code> 的公式中，可以得到：</p><table><thead><tr><th align="center"><strong><code>flex-grow</code>&nbsp;公式中变量名称</strong></th><th align="center"><strong>Flex1</strong></th><th align="center"><strong>Flex2</strong></th><th align="center"><strong>Flex3</strong></th><th align="center"><strong>Flex4</strong></th><th align="center"><strong>总数</strong></th></tr></thead><tbody><tr><td align="center"><strong>Flex 项目的 <code>flex-grow</code> 值</strong></td><td align="center"><code>1</code></td><td align="center"><code>1</code></td><td align="center"><code>1</code></td><td align="center"><code>1</code></td><td align="center"><code>1 x 4 = 4</code></td></tr><tr><td align="center"><strong>Flex 项目宽度</strong></td><td align="center"><code>43.36px</code></td><td align="center"><code>92.09px</code></td><td align="center"><code>148.83px</code></td><td align="center"><code>189.56px</code></td><td align="center"><code>465.84px</code></td></tr><tr><td align="center"><strong>Flex 容器宽度</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>804px</code></td></tr><tr><td align="center"><strong>Flex 容器剩余空间</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>338.16px</code></td></tr><tr><td align="center"><strong>Flex 项目新宽度</strong></td><td align="center"><strong><code>127.9px</code></strong></td><td align="center"><strong><code>176.63px</code></strong></td><td align="center"><strong><code>225.37px</code></strong></td><td align="center"><strong><code>274.1px</code></strong></td><td align="center"></td></tr></tbody></table><blockquote><p><strong>注意，不同的浏览器对小数处理有差异。</strong></p></blockquote><h3 id="flex-shrink-计算"><a href="#flex-shrink-计算" class="headerlink" title="flex-shrink 计算"></a><code>flex-shrink</code> 计算</h3><p><code>flex-shrink</code> 计算公式：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-46.png"></p><p>示例：</p><p>假设 Flex 容器有四个 Flex 项目，具体参数如下：</p><ul><li> Flex 容器的宽度是 <code>40vw</code> </li><li> Flex 容器中共有四个 Flex 项目，并且每个 Flex 项目的宽度都是 <code>15vw</code> </li><li> Flex 项目宽度总和为 <code>15vw x 4 = 60vw</code> </li><li> Flex 容器的不足空间为 <code>40vw - 60vw = -20vw</code> </li><li> Flex 项目的 <code>flex-shrink</code> 的值分别是 <code>0</code> 、 <code>1</code> 、 <code>2</code> 和 <code>3</code> ，所有 Flex 项目的 <code>flex-shrink</code> 总和为 <code>0 + 1 + 2 + 3 = 6</code> </li></ul><table><thead><tr><th align="center"><strong><code>flex-shrink</code>&nbsp;公式中变量名称</strong></th><th align="center"><strong>Flex1</strong></th><th align="center"><strong>Flex2</strong></th><th align="center"><strong>Flex3</strong></th><th align="center"><strong>Flex4</strong></th><th align="center"><strong>总数</strong></th></tr></thead><tbody><tr><td align="center"><strong>Flex 项目的 <code>flex-shrink</code> 值</strong></td><td align="center"><code>0</code></td><td align="center"><code>1</code></td><td align="center"><code>2</code></td><td align="center"><code>3</code></td><td align="center"><code>0 + 1 + 2+ 3 = 6</code></td></tr><tr><td align="center"><strong>Flex 项目宽度</strong></td><td align="center"><code>15vw</code></td><td align="center"><code>15vw</code></td><td align="center"><code>15vw</code></td><td align="center"><code>15vw</code></td><td align="center"><code>15vw x 4 = 60vw</code></td></tr><tr><td align="center"><strong>Flex 容器宽度</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>40vw</code></td></tr><tr><td align="center"><strong>Flex 容器不足空间</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>60vw - 40vw = 20vw</code></td></tr><tr><td align="center"><strong>Flex 项目新宽度</strong></td><td align="center"><code>？</code></td><td align="center"><code>？</code></td><td align="center"><code>？</code></td><td align="center"><code>？</code></td><td align="center"></td></tr></tbody></table><p>计算过程：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-47.png"></p><p>计算出来的结果：</p><table><thead><tr><th align="center"><strong><code>flex-shrink</code>&nbsp;公式中变量名称</strong></th><th align="center"><strong>Flex1</strong></th><th align="center"><strong>Flex2</strong></th><th align="center"><strong>Flex3</strong></th><th align="center"><strong>Flex4</strong></th><th align="center"><strong>总数</strong></th></tr></thead><tbody><tr><td align="center"><strong>Flex 项目的 <code>flex-shrink</code> 值</strong></td><td align="center"><code>0</code></td><td align="center"><code>1</code></td><td align="center"><code>2</code></td><td align="center"><code>3</code></td><td align="center"><code>0 + 1 + 2+ 3 = 6</code></td></tr><tr><td align="center"><strong>Flex 项目宽度</strong></td><td align="center"><code>15vw</code></td><td align="center"><code>15vw</code></td><td align="center"><code>15vw</code></td><td align="center"><code>15vw</code></td><td align="center"><code>15vw x 4 = 60vw</code></td></tr><tr><td align="center"><strong>Flex 容器宽度</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>40vw</code></td></tr><tr><td align="center"><strong>Flex 容器不足空间</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>60vw - 40vw = 20vw</code></td></tr><tr><td align="center"><strong>Flex 项目收缩比例</strong></td><td align="center"><code>0</code></td><td align="center"><code>0.1667</code></td><td align="center"><code>0.333</code></td><td align="center"><code>0.5</code></td><td align="center"></td></tr><tr><td align="center"><strong>Flex 项目新宽度</strong></td><td align="center"><strong><code>15vw</code></strong></td><td align="center"><strong><code>11.67vw</code></strong></td><td align="center"><strong><code>8.33vw</code></strong></td><td align="center"><strong><code>5vw</code></strong></td><td align="center"></td></tr></tbody></table><p><code>flex-shrink</code> 的计算还可以甚至另一个公式来计算：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-48.png"></p><p><code>flex-shrink</code> 和 <code>flex-grow</code> 类似，也可以取小数值。如果 Flex 容器中所有 Flex 项目的 <code>flex-shrink</code> 总和小于 <code>1</code> ，那么 Flex 容器的不足空间就不会被 Flex 项目按收缩因子瓜分完，Flex 项目会依旧会溢出 Flex 容器。</p><p><code>flex-shrink</code> 总和小于 <code>1</code> 时，其计算公式如下：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-49.png"></p><p>基于上面的示例，把 Flex 项目的 <code>flex-shrink</code> 分别设置为 <code>0</code> 、 <code>0.1</code> 、 <code>0.2</code> 和 <code>0.3</code> ，计算过程如下：</p><table><thead><tr><th align="center"><strong><code>flex-shrink</code>&nbsp;公式中变量名称</strong></th><th align="center"><strong>Flex1</strong></th><th align="center"><strong>Flex2</strong></th><th align="center"><strong>Flex3</strong></th><th align="center"><strong>Flex4</strong></th><th align="center"><strong>总数</strong></th></tr></thead><tbody><tr><td align="center"><strong>Flex 项目的 <code>flex-shrink</code> 值</strong></td><td align="center"><code>0</code></td><td align="center"><code>0.1</code></td><td align="center"><code>0.2</code></td><td align="center"><code>0.3</code></td><td align="center"><code>0.6</code></td></tr><tr><td align="center"><strong>Flex 项目宽度</strong></td><td align="center"><code>15vw</code></td><td align="center"><code>15vw</code></td><td align="center"><code>15vw</code></td><td align="center"><code>15vw</code></td><td align="center"><code>15vw x 4 = 60vw</code></td></tr><tr><td align="center"><strong>Flex 容器宽度</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>40vw</code></td></tr><tr><td align="center"><strong>Flex 容器不足空间</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>60vw - 40vw = 20vw</code></td></tr><tr><td align="center"><strong>Flex 项目新宽度</strong></td><td align="center"><strong><code>15vw</code></strong></td><td align="center"><strong><code>13vw</code></strong></td><td align="center"><strong><code>11vw</code></strong></td><td align="center"><strong><code>9vw</code></strong></td><td align="center"></td></tr></tbody></table><p>即使 Flex 容器中所有 Flex 项目的 <code>flex-shrink</code> 和大于 <code>1</code> ，但也不可以绝对地说，Flex 项目可以根据自身的 <code>flex-shrink</code> 所占比率来瓜分 Flex 容器的不足空间。因为元素的尺寸会受 <code>min-width</code> 的影响。<strong>当 Flex 项目显式设置了 <code>min-width</code>的值时，当 Flex 项目根据 <code>flex-shrink</code>计算出来的宽度小于 <code>min-width</code>时，Flex 项目会按 <code>min-width</code>的值为准</strong>。比如我们在前面的示例上，给所有 Flex 项目设置一个 <code>min-width</code> 的值为 <code>10vw</code> ，此时计算过程和结果如下：</p><table><thead><tr><th align="center"><strong><code>flex-shrink</code>&nbsp;公式中变量名称</strong></th><th align="center"><strong>Flex1</strong></th><th align="center"><strong>Flex2</strong></th><th align="center"><strong>Flex3</strong></th><th align="center"><strong>Flex4</strong></th><th align="center"><strong>总数</strong></th></tr></thead><tbody><tr><td align="center"><strong>Flex 项目的 <code>flex-shrink</code> 值</strong></td><td align="center"><code>0</code></td><td align="center"><code>1</code></td><td align="center"><code>2</code></td><td align="center"><code>3</code></td><td align="center"><code>0 + 1 + 2+ 3 = 6</code></td></tr><tr><td align="center"><strong>Flex 项目宽度</strong></td><td align="center"><code>15vw</code></td><td align="center"><code>15vw</code></td><td align="center"><code>15vw</code></td><td align="center"><code>15vw</code></td><td align="center"><code>15vw x 4 = 60vw</code></td></tr><tr><td align="center"><strong>Flex 容器宽度</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>40vw</code></td></tr><tr><td align="center"><strong>Flex 容器不足空间</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"><code>60vw - 40vw = 20vw</code></td></tr><tr><td align="center"><strong>Flex 项目收缩比例</strong></td><td align="center"><code>0</code></td><td align="center"><code>0.1667</code></td><td align="center"><code>0.333</code></td><td align="center"><code>0.5</code></td><td align="center"></td></tr><tr><td align="center"><strong>Flex 项目设置最小宽度</strong></td><td align="center"><strong><code>10vw</code></strong></td><td align="center"><strong><code>10vw</code></strong></td><td align="center"><strong><code>10vw</code></strong></td><td align="center"><strong><code>10vw</code></strong></td><td align="center"></td></tr><tr><td align="center"><strong>Flex 项目计算出的新宽度</strong></td><td align="center"><strong><code>15vw</code></strong></td><td align="center"><strong><code>11.67vw</code></strong></td><td align="center"><strong><code>8.33vw</code></strong></td><td align="center"><strong><code>5vw</code></strong></td><td align="center"></td></tr><tr><td align="center"><strong>Flex 项目最终宽度</strong></td><td align="center"><strong><code>15vw</code></strong></td><td align="center"><strong><code>11.67vw</code></strong></td><td align="center"><strong><code>10vw</code></strong></td><td align="center"><strong><code>10vw</code></strong></td><td align="center"></td></tr></tbody></table><p>在这个情况之下，Flex 项目的最终宽度总和还是会大于 Flex 容器宽度，Flex 项目同样会溢出 Flex 容器。</p><p><code>flex-shrink</code> 和 <code>flex-grow</code> 还有一点相似，那就是未显式给 Flex 容器的 Flex 项目显式设置与宽度有关的属性时，那么 Flex 项目的初始宽度会以其内容的宽度作为基准计算值。</p><p><code>flex-shrink</code> 有一点和 <code>flex-grow</code> 完全不同，如果某个 Flex 项目按照 <code>flex-shrink</code> 计算出来的新宽度趋向于 <code>0</code> 时，Flex 项目将会按照该元素的 <code>min-content</code> 的大小来设置宽度，同时这个宽度将会转嫁到其他 Flex 项目，再按相应的收缩因子进行收缩。</p><p>比如我们将第四个 Flex 项目的 <code>flex-shrink</code> 的值从 <code>3</code> 改为 <code>9</code> 。根据上面提供的公式，可以获知，Flex 项目 4 的新宽度等于 <code>15vw - (20vw ÷ 12) × 9 = 0</code> </p><p>计算出来的宽度为 <code>0</code> ，但实际上这个时候渲染出来的宽度是该项目的 <code>min-content</code> (该示例就是 “shrink” 单词的宽度，如下图所示)，大约 <code>47.95px</code> （约 <code>3.66vw</code> ）。那么这个值将会分成 <code>3</code> 份（因为该例另外三个 Flex 项目的 <code>flex-shrink</code> 是 <code>0</code> 、 <code>1</code> 和 <code>2</code> ），并且对应的 Flex 项目会继续分配本应 Flex 项目 4 要收缩的宽度。即：</p><ul><li> Flex 项目 1 新宽度等于 <code>15vw - 20 ÷ 12 × 0 - 3.66 ÷ 3 × 0 = 15vw</code>  (约 <code>196.5px</code> )</li><li> Flex 项目 2 新宽度等于 <code>15vw - 20 ÷ 12 × 1 - 3.66 ÷ 3 × 1 = 12.113vw</code>  (约 <code>158.6847px</code> )</li><li> Flex 项目 3 新宽度等于 <code>15vw - 20 ÷ 12 × 2 - 3.66 ÷ 3 × 2 = 9.227vw</code>  (约 <code>120.869px</code> )</li></ul><p>浏览器视窗宽度在 <code>1310px</code> 状态下渲染出来的结果如下：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-50.png"></p><p>在 Flexbox 布局模块中，基于前面提到的 Flex 容器的对齐属性、Flex 项目中的 <code>flex-shrink</code> 和 <code>flex-grow</code> 我们就可以很好的处理 Flex 容器的剩余空间和不足空间：</p><ul><li> Flex 容器有剩余空间（所有 Flex 项目的宽度总和小于 Flex 容器的宽度），如果设置了 <code>flex-grow</code> ，Flex 项目会根据扩展因子分配 Flex 容器剩余空间；在未设置 <code>flex-grow</code> 时，在 Flex 容器中是否设置了对齐方式，如果是，那么会按对齐方式分配 Flex 容器剩余空间，如果不是，Flex 容器剩余空间不变</li><li> Flex 容器有不足空间（所有 Flex 项目的宽度总和大于 Flex 容器的宽度），如果设置了 <code>flex-shrink</code> 值为 <code>0</code> ，Flex 项目不会收缩，Flex 项目溢出 Flex 容器；如果未显式设置 <code>flex-shrink</code> 值，Flex 项目分平均分配 Flex 容器不足空间，Flex 项目会变窄（Flex 项目的 <code>flex-shrink</code> 的默认值为 <code>1</code> ），如果显式设置了 <code>flex-shrink</code> 的值为非 <code>0</code> 的不同值，那么 Flex 项目会按照不同的收缩因子分配 Flex 容器不足空间，Flex 项目同样会变窄</li></ul><p>具体的我们可以绘制一张这方面的流程图：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-51.png"></p><h3 id="flex-basis-计算"><a href="#flex-basis-计算" class="headerlink" title="flex-basis 计算"></a><code>flex-basis</code> 计算</h3><p><code>flex-basis</code> 的计算相对于 <code>flex-grow</code> 和 <code>flex-shrink</code> 更略为复杂，因为它和 Flex 项目的 <strong>内容（Content）</strong> 、** <code>width</code> <strong>、 <strong><code>min-width</code></strong> 和 <strong><code>max-width</code></strong> 都有关系。这里的关系指的就是</strong>它们之间的权重关系<strong>，简单地说，</strong>在 Flex 项目中同时出现这几个属性时，最终由谁来决定 Flex 项目的宽度**。</p><p>在 Flexbox 布局中，可以使用 <code>flex-basis</code> 来实始化 Flex 项目尺寸，即 <strong>在任何 Flex 容器空间（剩余空间或不足空间）分配发生之前初始化 Flex 项目尺寸</strong>。</p><p>事实上，在 Flexbox 布局模块中 设置 Flex 项目的尺寸大小存在一个隐式的公式：</p><blockquote><p><strong><code>content</code></strong>  ➜ <strong><code>width</code></strong>  ➜ <strong><code>flex-basis</code></strong></p></blockquote><p>简单地说，如果 Flex 项目未显式指定 <code>flex-basis</code> 的值，那么 <code>flex-basis</code> 将回退到 <code>width</code> （或 <code>inline-size</code> ）属性；如果未显式指定 <code>width</code> （或 <code>inline-size</code> ）属性的值，那么 <code>flex-basis</code> 将回退到基于 Flex 项目内容计算宽度。不过，决定 Flex 项目尺寸大小，还受 <code>flex-grow</code> 和 <code>flex-shrink</code> 以及 Flex 容器大小的影响。而且 <strong>Flex 项目 最终尺寸 会受 <code>min-width</code>、 <code>max-width</code>(或 <code>min-inline-size</code> 、 <code>max-inline-size</code> ) 属性限制</strong>。这一点必须得注意。</p><p>来看一个示例：</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&lt;div class=&quot;flex__container&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;flex__item&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;flex__item&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;flex__item&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;flex__item&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.flex__container</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">600px</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> dashed <span class="number">#f36</span>;</span><br><span class="line">    <span class="attribute">align-items</span>: stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Flex 项目不显式的设置任何与尺寸大小有关系属性，即用 <code>content</code>来撑开 Flex 项目</strong>。</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;flex__container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;flex__item&quot;</span>&gt;</span>Lorem ipsum dolor sit amet<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;flex__item&quot;</span>&gt;</span>Lorem ipsum dolor sit amet consectetur adipisicing elit<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;flex__item&quot;</span>&gt;</span>Fugiat dolor nihil saepe. Nobis nihil minus similique hic quas mollitia.<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;flex__item&quot;</span>&gt;</span>Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias consequuntur sequi suscipit iure fuga ea!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在这个示例中，并没有显式给 Flex 项目设置 <code>flex-basis</code> 属性，此时 <code>flex-basis</code> 会取默认值 <code>auto</code> ：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-52.png"></p><p><strong>显式给 Flex 项目设置 <code>width</code> 值。</strong></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123; </span><br><span class="line">    --<span class="attribute">width</span>: <span class="number">120px</span>; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="selector-class">.flex__item</span> &#123; </span><br><span class="line">    <span class="attribute">width</span>: <span class="built_in">var</span>(--width); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个时候所有 Flex 项目宽度都是相等的：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-53.png"></p><p>浏览器计算出来的 <code>flex-basis</code> 值依旧为 <code>auto</code> ，但显式的设置了 <code>width: 120px</code> ，最终 <code>width</code> 属性的值决定了 Flex 项目的尺寸大小。</p><p><strong>显式给 Flex 项目设置 <code>flex-basis</code> 值，即 Flex 项目同时有 <code>width</code> 和 <code>flex-basis</code> 值</strong>。</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    --<span class="attribute">width</span>: <span class="number">120px</span>;</span><br><span class="line">    --flexBasis: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.flex__container</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.flex__item</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="built_in">var</span>(--width);</span><br><span class="line">    <span class="attribute">flex-basis</span>: <span class="built_in">var</span>(--flexBasis);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>虽然在 Flex 项目同时显式设置了 <code>width</code> 和 <code>flex-basis</code> ，但 Flex 项目最终的尺寸大小采用了 <code>flex-basis</code> 的值：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-54.png"></p><p>在 Flexbox 布局模块中影响 Flex 项目尺寸大小应该根据其隐式公式 (即 <code>content</code>  ➜ <code>width</code>  ➜ <code>flex-basis</code>  ）来进行判断。<strong>如果要显式给 Flex 项目设置尺寸大小，其最佳方式是 使用 <code>flex-basis</code> ，而不是 <code>width</code> (或 <code>inline-size</code> )。</strong></p><p>最后还有一点千万别忘记：</p><p><strong>使用 <code>flex-basis</code> 时会受<code>min-width</code>和 <code>max-width</code>（或逻辑属性中<code>min-inline-size</code>或<code>max-inline-size</code> ）的限制</strong>。</p><p>在 CSS 中，如果元素同时出现 <code>width</code> 、 <code>min-width</code> 和 <code>max-width</code> 属性时，其权重计算遵循以下规则：</p><ul><li> 元素的 <code>width</code> 大于 <code>max-width</code> 时，元素的 <code>width</code> 等于 <code>max-width</code> ，即 <code>max-width</code> 能覆盖 <code>width</code> （ <strong><code>max-width</code> 胜出</strong>）</li><li> 元素的 <code>width</code> 小于 <code>min-width</code> 时，元素的 <code>width</code> 等于 <code>min-width</code> ，即 <code>min-width</code> 能覆盖 <code>width</code> （ <strong><code>min-width</code> 胜出</strong>）</li><li> 当 <code>min-width</code> 大于 <code>max-width</code> 时， <code>min-width</code> 优先级将高于 <code>max-width</code> （ <strong><code>min-width</code> 胜出</strong>）</li></ul><p>如果 Flex 项目同时出现 <code>width</code> 、 <code>flex-basis</code> 和 <code>min-width</code> 时，具体的运算过程如下：</p><ul><li> 根据法则： <code>content</code>  ➜ <code>width</code>  ➜ <code>flex-basis</code> ，判断出运用于 Flex 项目的值，即 <code>flex-basis</code> 会运用于 Flex 项目 ( <strong><code>flex-basis</code> 胜出</strong>)</li><li> 再根据法则：Flex 项目的 <code>width</code>  小于 <code>min-width</code> 时，Flex 项目的 <code>width</code>  等于 <code>min-width</code> ，即 <code>min-width</code> 能覆盖 <code>width</code> （**<code>min-width</code> 胜出**）</li></ul><p>这样一来，<strong>如果 <code>flex-basis</code> 小于 <code>min-width</code> 时，Flex 项目的宽度会取值 <code>min-width</code> ，即 <code>min-width</code> 覆盖 <code>flex-basis</code> （<code>min-width</code>胜出）</strong>。</p><p>如果 Flex 项目同时出现 <code>width</code> 、 <code>flex-basis</code> 和 <code>max-width</code> 时，具体的运算过程如下：</p><ul><li> 根据法则： <code>content</code>  ➜ <code>width</code>  ➜ <code>flex-basis</code> ，判断出运用于 Flex 项目的值，即 <code>flex-basis</code> 会运用于 Flex 项目 ( <strong><code>flex-basis</code> 胜出</strong>)</li><li> 再根据法则：Flex 项目的 <code>width</code>  大于 <code>max-width</code> 时，Flex 项目的 <code>width</code>  等于 <code>max-width</code> ，即 <code>max-width</code> 能覆盖 <code>width</code> （ <strong><code>max-width</code> 胜出</strong>）</li></ul><p>这样一来，<strong>如果 <code>flex-basis</code> 大于 <code>max-width</code> 时，Flex 项目的宽度会取值 <code>max-width</code> ，即 <code>max-width</code> 覆盖 <code>flex-basis</code> （ <code>max-width</code> 胜出）</strong>。</p><p>如果 Flex 项目同时出现 <code>width</code> 、 <code>flex-basis</code> 、 <code>min-width</code> 和 <code>max-width</code> 时，会在上面的规则上增加新的一条规则来进行判断：</p><blockquote><p>**当 <code>min-width</code>  大于 <code>max-width</code>  时， <code>min-width</code> 优先级将高于 <code>max-width</code> ( <code>min-width</code>胜出)**。</p></blockquote><p>那么套用到 Flex 项目中：</p><ul><li> <code>flex-basis</code> 大于 <code>max-width</code> ，Flex 项目的宽度等于 <code>max-width</code> ，即 <code>max-width</code> 能覆盖 <code>flex-basis</code> （ <strong><code>max-width</code></strong> 胜出）</li><li> <code>flex-basis</code> 小于 <code>min-width</code> 时，Flex 项目的宽度会取值 <code>min-width</code> ，即 <code>min-width</code> 覆盖 <code>flex-basis</code> （ <strong><code>min-width</code> 胜出</strong> ）</li></ul><p>由于 <code>min-width</code> 大于 <code>max-width</code> 时会取 <code>min-width</code> ，有了这个先取条件我们就可以将 <code>flex-basis</code> 和 <code>min-width</code> 做权重比较，即：** <code>flex-basis</code> 会取 <code>min-width</code> 。反过来，如果 <code>min-width</code> 小于 <code>max-width</code> 时则依旧会取 <code>max-width</code> ，同时要是 <code>flex-basis</code> 大于 <code>max-width</code> 就会取 <code>max-width</code> **。</p><p>如果你理解了的话，可以使用更简单的规则来决定用于 Flex 项目的尺寸。</p><p><strong>首先根据 <code>content</code>  ➜ <code>width</code>  ➜ <code>flex-basis</code> 来决定用哪个来决定用于 Flex 项目。如果 Flex 项目显式设置了 <code>flex-basis</code> 属性，则会忽略 <code>content</code> 和 <code>width</code> 。而且 <code>min-width</code> 是用来设置 Flex 项目的下限值； <code>max-width</code> 是用来设置 Flex 项目的上限值。</strong></p><p>用一个简单的流程图来描述：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-55.png"></p><blockquote><p><strong>注，Flex 项目上的 <code>flex-shrink</code> 和 <code>flex-grow</code> 也会影响 Flex 项目尺寸大小</strong>！</p></blockquote><p>如果你想更深入的了解 Flexbox 中 Flex 项目的计算，建议你花点时间阅读：</p><ul><li> <a target="_blank" rel="noopener" href="//www.w3cplus.com/css/the-difference-between-width-and-flex-basis.html">你真的了解 CSS 的 <code>flex-basis</code> 吗？</a></li><li> <a target="_blank" rel="noopener" href="//www.w3cplus.com/css/flex-item-calculate.html">聊聊 Flexbox 布局中的 <code>flex</code> 的演算法</a></li><li> <a target="_blank" rel="noopener" href="//www.w3cplus.com/css3/flexbox-layout-and-calculation.html">深入理解 <code>flex</code> 布局以及计算</a></li></ul><h2 id="Flex-项目上的-margin"><a href="#Flex-项目上的-margin" class="headerlink" title="Flex 项目上的 margin"></a>Flex 项目上的 <code>margin</code></h2><p>在 Flex 项目显式设置 <code>margin</code> 的值为 <code>auto</code> 可以灵活的控制单个 Flex 项目在 Flex 容器中的位置：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-56.png"></p><p>比如像下图这样的效果，使用 <code>margin-left: auto</code> 就非常的实用：</p><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-57.png"></p><h2 id="案例整理"><a href="#案例整理" class="headerlink" title="案例整理"></a>案例整理</h2><h3 id="padding-与自动宽问题"><a href="#padding-与自动宽问题" class="headerlink" title="padding 与自动宽问题"></a>padding 与自动宽问题</h3><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-58.png"></p><p>针对这个案例, 较好的方案对于内部元素不显式设置任何关于 <code>padding</code> 和 <code>margin</code> 的属性。人工实现可能会像下面这样：</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&lt;div class=&quot;flex__container&quot;&gt;</span><br><span class="line">    &lt;span class=&quot;coupon&quot;&gt;卷&lt;/span&gt;</span><br><span class="line">    &lt;span class=&quot;divider&quot;&gt;&lt;/span&gt;</span><br><span class="line">    &lt;span class=&quot;price&quot;&gt;¥1000&lt;/span&gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.flex__container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-flex;</span><br><span class="line">    <span class="attribute">min-width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">54</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">54</span>, <span class="number">0.1</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ff0036</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">24px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.flex__container</span> &gt; <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.divider</span> &#123;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">1px</span> dashed currentColor;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.coupon</span> &#123;</span><br><span class="line">    <span class="attribute">min-width</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.price</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">min-width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img data-src="https://www.w3cplus.com/sites/default/files/blogs/2021/2103/flex-59.png"></p><ul><li> ① 像类似 Button，Badge 等（外形看上去类似于内联块），设置 Flex 容器为 <code>inline-flex</code> ，并且给其设置一个 <code>min-width</code> （默认情况下等同于 Sketch 设计稿）和 一个 <code>height</code> </li><li> ② 从设计稿上分析可以得到，前面 “卷” 这个宽度是可知的，在该元素上设置一个固定宽度 <code>width</code> </li><li> ③ 一个约 <code>1px</code> 的分割线，可以使用 <code>border</code> 或者定死宽度 <code>width</code> </li><li> ④ 最右侧 “价格” 是下不可定因素，在 Flex 项目上，可以将其显式设置 <code>flex: 1</code> ，让该部分占用 Flex 容器的剩余空间</li><li> ⑤ 为了让 “价格” 更具有扩展性，当其数值扩展到 Flex 容器无剩余空间时，数字会紧挨 Flex 容器主轴终点和分割线，为了让视觉上更友好，要以在 “价格” 容器设置一个 <code>padding-left</code> 和 <code>padding-right</code> </li></ul><h1 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h1><p>这篇笔记涉及到了 Flexbox 规范中的大部分内容以及一些临界点，在使用 Flexbox 来完成 UI 上的布局除了文章中提到的一些基础内容和细节之外，还有一些其他的东西。比如 Flex 容器中的定位，层级计算等，Flex 容器和 Flex 项目碰到<code>overflow</code>以及 Flex 容器中的滚动计算等。这些对于场景具有较强的指定性，对于边界的处理也过于复杂。在我们平常使用 Flexbox 很少甚至不怎么会碰到。因此没有在文章中罗列。</p><p>如果你在使用 Flexbox，特别是在使用 imgcook 自动还原 UI，效果和你预期不一样，或者有不合理的地方，都可以随时来撩偶。</p><blockquote><p>转载于：<a target="_blank" rel="noopener" href="https://www.w3cplus.com/css/unknown-details-of-the-flexbox-layout.html">https://www.w3cplus.com/css/unknown-details-of-the-flexbox-layout.html</a></p></blockquote></div><div class="popular-posts-header">相关文章</div><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2021/07/04/pt与px、em、rem的区别与换算/" rel="bookmark">pt与px、em、rem的区别与换算</a></div></li></ul><footer class="post-footer"><div class="post-tags"> <a href="/tags/css/" rel="tag"># css</a> <a href="/tags/flex/" rel="tag"># flex</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2021/04/02/Redis%E5%85%A5%E9%97%A8%E4%BA%86%E8%A7%A3/" rel="prev" title="Redis入门了解"><i class="fa fa-chevron-left"></i> Redis入门了解</a></div><div class="post-nav-item"> <a href="/2021/04/09/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84-%E5%85%A5%E9%97%A8%E7%90%86%E8%A7%A3/" rel="next" title="微服务架构-入门理解">微服务架构-入门理解<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div></main><footer class="footer"><div class="footer-inner"><div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">湘ICP备19011756号-1</a></div><div class="copyright"> &copy; <span itemprop="copyrightYear">2021</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">JIAHE</span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span><span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动</div></div></footer><script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdn.jsdelivr.net/npm/pdfobject@2.2.6/pdfobject.min.js","integrity":"sha256-77geM50MfxCD17eqyJR+Dag1svjJOLN+BJ2F/DMqMEY="},"url":"/lib/pdf/web/viewer.html"}</script><script src="/js/third-party/tags/pdf.js"></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/quicklink@2.2.0/dist/quicklink.umd.js" integrity="sha256-4kQf9z5ntdQrzsBC3YSHnEz02Z9C1UeW/E9OgnvlzSY=" crossorigin="anonymous"></script><script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"ignores":null,"url":"http://xiaojianzheng.cn/2021/04/03/Flex%E5%B8%83%E5%B1%80%E4%BB%8B%E7%BB%8D/"}</script><script src="/js/third-party/quicklink.js"></script></body></html>