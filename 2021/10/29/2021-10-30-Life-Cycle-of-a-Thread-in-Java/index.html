<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 5.4.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"xiaojianzheng.cn","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.8.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.json","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true}}</script><script src="/js/config.js"></script><meta name="description" content="原文地址：https:&#x2F;&#x2F;www.baeldung.com&#x2F;java-thread-lifecycle   1. IntroductionIn this article, we&#39;ll discuss in detail a core concept in Java – the lifecycle of a thread. We&#39;ll use a quick illustrated"><meta property="og:type" content="article"><meta property="og:title" content="Life Cycle of a Thread in Java"><meta property="og:url" content="http://xiaojianzheng.cn/2021/10/29/2021-10-30-Life-Cycle-of-a-Thread-in-Java/index.html"><meta property="og:site_name" content="JIAHE"><meta property="og:description" content="原文地址：https:&#x2F;&#x2F;www.baeldung.com&#x2F;java-thread-lifecycle   1. IntroductionIn this article, we&#39;ll discuss in detail a core concept in Java – the lifecycle of a thread. We&#39;ll use a quick illustrated"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/xiao1272209235/hexo-image@main/16355829100901635582910076.png"><meta property="article:published_time" content="2021-10-29T16:00:00.000Z"><meta property="article:modified_time" content="2021-10-29T16:00:00.000Z"><meta property="article:author" content="JIAHE"><meta property="article:tag" content="Java Concurrency"><meta property="article:tag" content="Java"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/xiao1272209235/hexo-image@main/16355829100901635582910076.png"><link rel="canonical" href="http://xiaojianzheng.cn/2021/10/29/2021-10-30-Life-Cycle-of-a-Thread-in-Java/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://xiaojianzheng.cn/2021/10/29/2021-10-30-Life-Cycle-of-a-Thread-in-Java/","path":"2021/10/29/2021-10-30-Life-Cycle-of-a-Thread-in-Java/","title":"Life Cycle of a Thread in Java"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Life Cycle of a Thread in Java | JIAHE</title><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">JIAHE</p><i class="logo-line"></i></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-导航"><a href="/navigation/" rel="section"><i class="fa fa-location-arrow fa-fw"></i>导航</a></li><li class="menu-item menu-item-文档"><a href="/docs/" rel="section"><i class="fa fa-book fa-fw fa-fw"></i>文档</a></li><li class="menu-item menu-item-应用下载"><a href="/app-download/" rel="section"><i class="fas fa-download fa-fw fa-fw"></i>应用下载</a></li><li class="menu-item menu-item-cheat-sheet"><a href="/cheat-sheet/" rel="section"><i class="fas fa-pen fa-fw"></i>Cheat Sheet</a></li><li class="menu-item menu-item-软件安装部署"><a href="/software-install-and-deploy/" rel="section"><i class="fab fa-windows fa-fw"></i>软件安装部署</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Introduction"><span class="nav-number">1.</span> <span class="nav-text">1. Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Multithreading-in-Java"><span class="nav-number">2.</span> <span class="nav-text">2. Multithreading in Java</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Life-Cycle-of-a-Thread-in-Java"><span class="nav-number">3.</span> <span class="nav-text">3. Life Cycle of a Thread in Java</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-New"><span class="nav-number">3.1.</span> <span class="nav-text">3.1. New</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-Runnable"><span class="nav-number">3.2.</span> <span class="nav-text">3.2. Runnable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-Blocked"><span class="nav-number">3.3.</span> <span class="nav-text">3.3. Blocked</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-Waiting"><span class="nav-number">3.4.</span> <span class="nav-text">3.4. Waiting</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5-Timed-Waiting"><span class="nav-number">3.5.</span> <span class="nav-text">3.5. Timed Waiting</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-6-Terminated"><span class="nav-number">3.6.</span> <span class="nav-text">3.6. Terminated</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Conclusion"><span class="nav-number">4.</span> <span class="nav-text">4. Conclusion</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="JIAHE" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">JIAHE</p><div class="site-description" itemprop="description">Collection & Reuse</div></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">90</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">94</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-blogroll site-overview-item animated"><div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"> <a href="https://cook.aiurs.co/" title="https:&#x2F;&#x2F;cook.aiurs.co&#x2F;" rel="noopener" target="_blank">程序员做饭指南</a></li><li class="links-of-blogroll-item"> <a href="https://www.baidu.com/" title="https:&#x2F;&#x2F;www.baidu.com&#x2F;" rel="noopener" target="_blank">Baidu</a></li><li class="links-of-blogroll-item"> <a href="https://cn.bing.com/" title="https:&#x2F;&#x2F;cn.bing.com&#x2F;" rel="noopener" target="_blank">Bing</a></li><li class="links-of-blogroll-item"> <a href="https://www.google.com/" title="https:&#x2F;&#x2F;www.google.com&#x2F;" rel="noopener" target="_blank">Google</a></li><li class="links-of-blogroll-item"> <a href="https://zh.wikipedia.org/wiki/Wikipedia:%E9%A6%96%E9%A1%B5" title="https:&#x2F;&#x2F;zh.wikipedia.org&#x2F;wiki&#x2F;Wikipedia:%E9%A6%96%E9%A1%B5" rel="noopener" target="_blank">Wiki</a></li><li class="links-of-blogroll-item"> <a href="https://projectlombok.org/" title="https:&#x2F;&#x2F;projectlombok.org&#x2F;" rel="noopener" target="_blank">lombok</a></li><li class="links-of-blogroll-item"> <a href="https://logging.apache.org/log4j/2.x/" title="https:&#x2F;&#x2F;logging.apache.org&#x2F;log4j&#x2F;2.x&#x2F;" rel="noopener" target="_blank">log4j</a></li><li class="links-of-blogroll-item"> <a href="http://logback.qos.ch/" title="http:&#x2F;&#x2F;logback.qos.ch&#x2F;" rel="noopener" target="_blank">logback</a></li><li class="links-of-blogroll-item"> <a href="https://junit.org/junit5/" title="https:&#x2F;&#x2F;junit.org&#x2F;junit5&#x2F;" rel="noopener" target="_blank">junit</a></li><li class="links-of-blogroll-item"> <a href="https://element.eleme.cn/#/zh-CN" title="https:&#x2F;&#x2F;element.eleme.cn&#x2F;#&#x2F;zh-CN" rel="noopener" target="_blank">ElementUI</a></li><li class="links-of-blogroll-item"> <a href="https://zipkin.io/" title="https:&#x2F;&#x2F;zipkin.io&#x2F;" rel="noopener" target="_blank">Zipkin</a></li><li class="links-of-blogroll-item"> <a href="https://www.selenium.dev/zh-cn/" title="https:&#x2F;&#x2F;www.selenium.dev&#x2F;zh-cn&#x2F;" rel="noopener" target="_blank">Selenium</a></li><li class="links-of-blogroll-item"> <a href="https://nacos.io/zh-cn/docs/what-is-nacos.html" title="https:&#x2F;&#x2F;nacos.io&#x2F;zh-cn&#x2F;docs&#x2F;what-is-nacos.html" rel="noopener" target="_blank">Nacos</a></li><li class="links-of-blogroll-item"> <a href="https://dev.mysql.com/downloads/" title="https:&#x2F;&#x2F;dev.mysql.com&#x2F;downloads&#x2F;" rel="noopener" target="_blank">MySQL-Download</a></li><li class="links-of-blogroll-item"> <a href="https://redis.io/" title="https:&#x2F;&#x2F;redis.io&#x2F;" rel="noopener" target="_blank">Redis</a></li><li class="links-of-blogroll-item"> <a href="https://www.jetbrains.com/help/idea/discover-intellij-idea.html" title="https:&#x2F;&#x2F;www.jetbrains.com&#x2F;help&#x2F;idea&#x2F;discover-intellij-idea.html" rel="noopener" target="_blank">IDEA-Document</a></li><li class="links-of-blogroll-item"> <a href="https://jdk.java.net/" title="https:&#x2F;&#x2F;jdk.java.net&#x2F;" rel="noopener" target="_blank">JDK</a></li><li class="links-of-blogroll-item"> <a href="https://www.java.com/en/download/manual.jsp" title="https:&#x2F;&#x2F;www.java.com&#x2F;en&#x2F;download&#x2F;manual.jsp" rel="noopener" target="_blank">JDK8</a></li><li class="links-of-blogroll-item"> <a href="https://dev.java/" title="https:&#x2F;&#x2F;dev.java&#x2F;" rel="noopener" target="_blank">JAVA</a></li><li class="links-of-blogroll-item"> <a href="https://www.oracle.com/java/technologies/downloads/archive/" title="https:&#x2F;&#x2F;www.oracle.com&#x2F;java&#x2F;technologies&#x2F;downloads&#x2F;archive&#x2F;" rel="noopener" target="_blank">JDK-Oracle</a></li><li class="links-of-blogroll-item"> <a href="https://poi.apache.org/components/index.html" title="https:&#x2F;&#x2F;poi.apache.org&#x2F;components&#x2F;index.html" rel="noopener" target="_blank">POI</a></li><li class="links-of-blogroll-item"> <a href="https://assertj.github.io/doc/" title="https:&#x2F;&#x2F;assertj.github.io&#x2F;doc&#x2F;" rel="noopener" target="_blank">AssertJ</a></li><li class="links-of-blogroll-item"> <a href="https://docshome.gitbook.io/nginx-docs/" title="https:&#x2F;&#x2F;docshome.gitbook.io&#x2F;nginx-docs&#x2F;" rel="noopener" target="_blank">Nginx-CN</a></li><li class="links-of-blogroll-item"> <a href="https://github.com/cglib/cglib" title="https:&#x2F;&#x2F;github.com&#x2F;cglib&#x2F;cglib" rel="noopener" target="_blank">cglib</a></li><li class="links-of-blogroll-item"> <a href="https://docs.gitlab.com/ee/api/api_resources.html" title="https:&#x2F;&#x2F;docs.gitlab.com&#x2F;ee&#x2F;api&#x2F;api_resources.html" rel="noopener" target="_blank">Gitlab Api</a></li><li class="links-of-blogroll-item"> <a href="http://mockjs.com/examples.html" title="http:&#x2F;&#x2F;mockjs.com&#x2F;examples.html" rel="noopener" target="_blank">Mockjs Example</a></li></ul></div></div></div></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up"></i> <span>0%</span></div><a role="button" class="book-mark-link book-mark-link-fixed"></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://xiaojianzheng.cn/2021/10/29/2021-10-30-Life-Cycle-of-a-Thread-in-Java/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="JIAHE"><meta itemprop="description" content="Collection & Reuse"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="JIAHE"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Life Cycle of a Thread in Java</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-10-30 00:00:00" itemprop="dateCreated datePublished" datetime="2021-10-30T00:00:00+08:00">2021-10-30</time></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv"><span class="post-meta-item-icon"><i class="far fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span></div></div></header><div class="post-body" itemprop="articleBody"><div class="note info"><p>原文地址：<a target="_blank" rel="noopener" href="https://www.baeldung.com/java-thread-lifecycle">https://www.baeldung.com/java-thread-lifecycle</a></p></div><h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a><strong>1. Introduction</strong></h2><p>In this article, we&#39;ll discuss in detail a core concept in Java – the lifecycle of a thread.</p><p>We&#39;ll use a quick illustrated diagram and, of course, practical code snippets to better understand these states during the thread execution.</p><p>To get started understanding Threads in Java, <a target="_blank" rel="noopener" href="https://www.baeldung.com/java-runnable-vs-extending-thread">this article</a> on creating a thread is a good place to start.</p><h2 id="2-Multithreading-in-Java"><a href="#2-Multithreading-in-Java" class="headerlink" title="2. Multithreading in Java"></a><strong>2. Multithreading in Java</strong></h2><p><strong>In the Java language, multithreading is driven by the core concept of a Thread</strong>. During their lifecycle, threads go through various states:</p><p><img data-src="https://cdn.jsdelivr.net/gh/xiao1272209235/hexo-image@main/16355829100901635582910076.png" alt="img">](<a target="_blank" rel="noopener" href="https://www.baeldung.com/wp-content/uploads/2018/02/Life_cycle_of_a_Thread_in_Java.jpg">https://www.baeldung.com/wp-content/uploads/2018/02/Life_cycle_of_a_Thread_in_Java.jpg</a>)</p><h2 id="3-Life-Cycle-of-a-Thread-in-Java"><a href="#3-Life-Cycle-of-a-Thread-in-Java" class="headerlink" title="3. Life Cycle of a Thread in Java"></a><strong>3. Life Cycle of a Thread in Java</strong></h2><p>The <em>java.lang.Thread</em> class contains a <em>static State enum –</em> which defines its potential states. During any given point of time, the thread can only be in one of these states:</p><ol><li>*<strong>NEW –</strong> a newly created thread that has not yet started the execution</li><li>*<strong>RUNNABLE –</strong> either running or ready for execution but it&#39;s waiting for resource allocation</li><li>*<strong>BLOCKED –</strong> waiting to acquire a monitor lock to enter or re-enter a synchronized block/method</li><li>*<strong>WAITING –</strong> waiting for some other thread to perform a particular action without any time limit</li><li>*<strong>TIMED_WAITING –</strong> waiting for some other thread to perform a specific action for a specified period</li><li>*<strong>TERMINATED –</strong> has completed its execution</li></ol><p>All these states are covered in the diagram above; let&#39;s now discuss each of these in detail.</p><h3 id="3-1-New"><a href="#3-1-New" class="headerlink" title="3.1. New"></a><strong>3.1. New</strong></h3><p><strong>A NEW Thread (or a Born Thread) is a thread that&#39;s been created but not yet started.</strong> It remains in this state until we start it using the <em>start()</em> method.</p><p>The following code snippet shows a newly created thread that&#39;s in the <em>NEW</em> state:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Runnable runnable = <span class="keyword">new</span> NewState();</span><br><span class="line">Thread t = <span class="keyword">new</span> Thread(runnable);</span><br><span class="line">Log.info(t.getState());</span><br></pre></td></tr></table></figure><p>Since we&#39;ve not started the mentioned thread, the method <em>t.getState()</em> prints:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">NEW</span><br></pre></td></tr></table></figure><h3 id="3-2-Runnable"><a href="#3-2-Runnable" class="headerlink" title="3.2. Runnable"></a><strong>3.2. Runnable</strong></h3><p>When we&#39;ve created a new thread and called the <em>start()</em> method on that, it&#39;s moved from <em>NEW</em> to <em>RUNNABLE</em> state. <strong>Threads in this state are either running or ready to run, but they&#39;re waiting for resource allocation from the system.</strong></p><p>In a multi-threaded environment, the Thread-Scheduler (which is part of JVM) allocates a fixed amount of time to each thread. So it runs for a particular amount of time, then relinquishes the control to other <em>RUNNABLE</em> threads.</p><p>For example, let&#39;s add <em>t.start()</em> method to our previous code and try to access its current state:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Runnable runnable = <span class="keyword">new</span> NewState();</span><br><span class="line">Thread t = <span class="keyword">new</span> Thread(runnable);</span><br><span class="line">t.start();</span><br><span class="line">Log.info(t.getState());</span><br></pre></td></tr></table></figure><p>This code is <strong>most likely</strong> to return the output as:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">RUNNABLE</span><br></pre></td></tr></table></figure><p>Note that in this example, it&#39;s not always guaranteed that by the time our control reaches <em>t.getState()</em>, it will be still in the <em>RUNNABLE</em> state.</p><p>It may happen that it was immediately scheduled by the <em>Thread-Scheduler</em> and may finish execution. In such cases, we may get a different output.</p><h3 id="3-3-Blocked"><a href="#3-3-Blocked" class="headerlink" title="3.3. Blocked"></a><strong>3.3. Blocked</strong></h3><p>A thread is in the <em>BLOCKED</em> state when it&#39;s currently not eligible to run. <strong>It enters this state when it is waiting for a monitor lock and is trying to access a section of code that is locked by some other thread.</strong></p><p>Let&#39;s try to reproduce this state:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BlockedState</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        Thread t1 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> DemoThreadB());</span><br><span class="line">        Thread t2 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> DemoThreadB());</span><br><span class="line">        </span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        </span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        </span><br><span class="line">        Log.info(t2.getState());</span><br><span class="line">        System.exit(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DemoThreadB</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        commonResource();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">commonResource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="comment">// Infinite loop to mimic heavy processing</span></span><br><span class="line">            <span class="comment">// &#x27;t1&#x27; won&#x27;t leave this method</span></span><br><span class="line">            <span class="comment">// when &#x27;t2&#x27; try to enter this</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In this code:</p><ol><li>We&#39;ve created two different threads – <em>t1</em> and <em>t2</em></li><li><em>t1</em> starts and enters the synchronized <em>commonResource()</em> method; this means that only one thread can access it; all other subsequent threads that try to access this method will be blocked from the further execution until the current one will finish the processing</li><li>When <em>t1</em> enters this method, it is kept in an infinite while loop; this is just to imitate heavy processing so that all other threads cannot enter this method</li><li>Now when we start <em>t2</em>, it tries to enter the <em>commonResource()</em> method, which is already being accessed by <em>t1,</em> thus, <em>t2</em> will be kept in the <em>BLOCKED</em> state</li></ol><p>Being in this state, we call <em>t2.getState()</em> and get the output as:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">BLOCKED</span><br></pre></td></tr></table></figure><h3 id="3-4-Waiting"><a href="#3-4-Waiting" class="headerlink" title="3.4. Waiting"></a><strong>3.4. Waiting</strong></h3><p><strong>A thread is in WAITING state when it&#39;s waiting for some other thread to perform a particular action.</strong> <a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/9/docs/api/java/lang/Thread.State.html#WAITING">According to JavaDocs</a>, any thread can enter this state by calling any one of the following three methods:</p><ol><li><em>object.wait()</em></li><li><em>thread.join()</em> or</li><li><em>LockSupport.park()</em></li></ol><p>Note that in <em>wait()</em> and <em>join()</em> – we do not define any timeout period as that scenario is covered in the next section.</p><p>We have <a target="_blank" rel="noopener" href="https://www.baeldung.com/java-wait-notify">a separate tutorial</a> that discusses in detail the use of <em>wait()</em>, <em>notify()</em> and <em>notifyAll()</em>.</p><p>For now, let&#39;s try to reproduce this state:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WaitingState</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Thread t1;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        t1 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> WaitingState());</span><br><span class="line">        t1.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Thread t2 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> DemoThreadWS());</span><br><span class="line">        t2.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            t2.join();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            Thread.currentThread().interrupt();</span><br><span class="line">            Log.error(<span class="string">&quot;Thread interrupted&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DemoThreadWS</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            Thread.currentThread().interrupt();</span><br><span class="line">            Log.error(<span class="string">&quot;Thread interrupted&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        Log.info(WaitingState.t1.getState());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Let&#39;s discuss what we&#39;re doing here:</p><ol><li>We&#39;ve created and started the <em>t1</em></li><li><em>t1</em> creates a <em>t2</em> and starts it</li><li>While the processing of <em>t2</em> continues, we call <em>t2.join()</em>, this puts <em>t1</em> in <em>WAITING</em> state until <em>t2</em> has finished execution</li><li>Since <em>t1</em> is waiting for <em>t2</em> to complete, we&#39;re calling <em>t1.getState()</em> from <em>t2</em></li></ol><p>The output here is, as you&#39;d expect:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">WAITING</span><br></pre></td></tr></table></figure><h3 id="3-5-Timed-Waiting"><a href="#3-5-Timed-Waiting" class="headerlink" title="3.5. Timed Waiting"></a><strong>3.5. Timed Waiting</strong></h3><p><strong>A thread is in TIMED_WAITING state when it&#39;s waiting for another thread to perform a particular action within a stipulated amount of time.</strong></p><p><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/9/docs/api/java/lang/Thread.State.html#TIMED_WAITING">According to JavaDocs</a>, there are five ways to put a thread on <em>TIMED_WAITING</em> state:</p><ol><li><em>thread.sleep(long millis)</em></li><li><em>wait(int timeout)</em> or <em>wait(int timeout, int nanos)</em></li><li><em>thread.join(long</em> millis*)*</li><li><em>LockSupport.parkNanos</em></li><li><em>LockSupport.parkUntil</em></li></ol><p>To read more about the differences between <em>wait()</em> and <em>sleep()</em> in Java, have a look at <a target="_blank" rel="noopener" href="https://www.baeldung.com/java-wait-and-sleep">this dedicated article here</a>.</p><p>For now, let&#39;s try to quickly reproduce this state:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TimedWaitingState</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        DemoThread obj1 = <span class="keyword">new</span> DemoThread();</span><br><span class="line">        Thread t1 = <span class="keyword">new</span> Thread(obj1);</span><br><span class="line">        t1.start();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// The following sleep will give enough time for ThreadScheduler</span></span><br><span class="line">        <span class="comment">// to start processing of thread t1</span></span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        Log.info(t1.getState());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DemoThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">5000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            Thread.currentThread().interrupt();</span><br><span class="line">            Log.error(<span class="string">&quot;Thread interrupted&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Here, we&#39;ve created and started a thread <em>t1</em> which is entered into the sleep state with a timeout period of 5 seconds; the output will be:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">TIMED_WAITING</span><br></pre></td></tr></table></figure><h3 id="3-6-Terminated"><a href="#3-6-Terminated" class="headerlink" title="3.6. Terminated"></a><strong>3.6. Terminated</strong></h3><p>This is the state of a dead thread. <strong>It&#39;s in the TERMINATED state when it has either finished execution or was terminated abnormally.</strong></p><p>We have <a target="_blank" rel="noopener" href="https://www.baeldung.com/java-thread-stop">a dedicated article</a> that discusses different ways of stopping the thread.</p><p>Let&#39;s try to achieve this state in the following example:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TerminatedState</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        Thread t1 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> TerminatedState());</span><br><span class="line">        t1.start();</span><br><span class="line">        <span class="comment">// The following sleep method will give enough time for </span></span><br><span class="line">        <span class="comment">// thread t1 to complete</span></span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        Log.info(t1.getState());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// No processing in this block</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Here, while we&#39;ve started thread <em>t1</em>, the very next statement <em>Thread.sleep(1000)</em> gives enough time for <em>t1</em> to complete and so this program gives us the output as:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">TERMINATED</span><br></pre></td></tr></table></figure><p>In addition to the thread state, we can check the <em><a target="_blank" rel="noopener" href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Thread.html#isAlive()">isAlive()</a></em> method to determine if the thread is alive or not. For instance, if we call the <em>isAlive()</em> method on this thread:</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Assert.assertFalse(t1.isAlive());</span><br></pre></td></tr></table></figure><p>It returns <em>false.</em> Put simply, <strong>a thread is alive if and only if it has</strong> <strong>been started and has not yet died.</strong></p><h2 id="4-Conclusion"><a href="#4-Conclusion" class="headerlink" title="4. Conclusion"></a><strong>4. Conclusion</strong></h2><p>In this tutorial, we learned about the life-cycle of a thread in Java. We looked at all six states defined by <em>Thread.State</em> enum and reproduced them with quick examples.</p><p>Although the code snippets will give the same output in almost every machine, in some exceptional cases, we may get some different outputs as the exact behavior of Thread Scheduler cannot be determined.</p><p>And, as always, the code snippets used here are <a target="_blank" rel="noopener" href="https://github.com/eugenp/tutorials/tree/master/core-java-modules/core-java-concurrency-basic-2">available on GitHub</a>.</p></div><div class="popular-posts-header">相关文章</div><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2021/11/05/2021-11-06-List-All-Classes-Loaded-in-a-Specific-Class-Loader/" rel="bookmark">List All Classes Loaded in a Specific Class Loader</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2021/11/07/2021-11-08-Slash-problem-when-reading-the-properties-file-in-Java/" rel="bookmark">Properties中读取下划线的问题及解决办法</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2021/10/18/A-Guide-to-Java-9-Modularity/" rel="bookmark">A Guide to Java 9 Modularity</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2021/10/13/Collectors.toMap不允许Null Value导致NPE/" rel="bookmark">Collectors.toMap不允许Null Value导致NPE</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2021/10/16/Introduction-to-Project-Jigsaw/" rel="bookmark">Introduction to Project Jigsaw</a></div></li></ul><footer class="post-footer"><div class="post-tags"> <a href="/tags/Java-Concurrency/" rel="tag"># Java Concurrency</a> <a href="/tags/Java/" rel="tag"># Java</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2021/10/29/2021-10-30-Spring-Application-Context-Events/" rel="prev" title="Spring Application Context Events"><i class="fa fa-chevron-left"></i> Spring Application Context Events</a></div><div class="post-nav-item"> <a href="/2021/11/05/2021-11-06-List-All-Classes-Loaded-in-a-Specific-Class-Loader/" rel="next" title="List All Classes Loaded in a Specific Class Loader">List All Classes Loaded in a Specific Class Loader<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div></main><footer class="footer"><div class="footer-inner"><div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">湘ICP备19011756号-1</a></div><div class="copyright"> &copy; 2021 – <span itemprop="copyrightYear">2022</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">JIAHE</span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span><span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动</div></div></footer><script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdn.jsdelivr.net/npm/pdfobject@2.2.7/pdfobject.min.js","integrity":"sha256-ph3Dk89VmuTVXG6x/RDzk53SU9LPdAh1tpv0UvnDZ2I="},"url":"/lib/pdf/web/viewer.html"}</script><script src="/js/third-party/tags/pdf.js"></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/quicklink@2.2.0/dist/quicklink.umd.js" integrity="sha256-4kQf9z5ntdQrzsBC3YSHnEz02Z9C1UeW/E9OgnvlzSY=" crossorigin="anonymous"></script><script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"ignores":null,"url":"http://xiaojianzheng.cn/2021/10/29/2021-10-30-Life-Cycle-of-a-Thread-in-Java/"}</script><script src="/js/third-party/quicklink.js"></script></body></html>